webpackJsonp([1],{"3GDu":function(e,t,n){"use strict";var a=n("Xxa5"),s=n.n(a),i=n("exGp"),c=n.n(i),r=n("jyVo"),o={name:"Map",props:["emitMap","markers","infoWindow"],data:function(){return{position:{lat:0,lng:0},map:null,currentPlace:null,errors:[],myPosPin:null}},mounted:function(){this.initMap(),this.getLocation()},methods:{initMap:function(){var e=this;e.map=new google.maps.Map(this.$refs.map,{zoom:17,center:this.position,mapTypeControl:!1});var t=new google.maps.places.PlacesService(e.map);google.maps.event.addListener(e.map,"click",function(n){n.placeId&&(n.stop(),t.getDetails({placeId:n.placeId},function(t,n){var a=new google.maps.Marker({position:{lat:t.geometry.location.lat(),lng:t.geometry.location.lng()},map:e.map,title:t.name,visible:!1});e.infoWindow.el.open(e.map,a),"OK"===n&&(e.infoWindow.content={name:t.name,phone:t.formatted_phone_number,place:t,url:t.url,image_url:void 0!==t.photos?t.photos[0].getUrl({maxWidth:100,maxHeight:100}):""})}))}),this.yourPin=new google.maps.Marker({icon:r.a.pinSymbol("green")})},getLocation:function(){var e=this;if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(t){var n=t.coords,a=new google.maps.LatLng(n.latitude,n.longitude);e.map.panTo(a),e.placeMyPosPin(n.latitude,n.longitude)},function(e){console.warn("ERROR("+e.code+"): "+e.message)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}},placeMyPosPin:function(e,t){var n=this;return c()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n.myPosPin&&n.myPosPin.setMap(null),n.myPosPin=new google.maps.Marker({position:{lat:e,lng:t},icon:r.a.pinSymbol("green"),animation:google.maps.Animation.DROP}),n.myPosPin.setMap(n.map);case 3:case"end":return a.stop()}},a,n)}))()},whereToGo:function(){var e=this.markers.map(function(e){return[e.position.lat(),e.position.lng()]}),t=r.a.calcPrimeLocation(e);if(t){var n=new google.maps.LatLng(t[0],t[1]);this.yourPin.setPosition({lat:t[0],lng:t[1]}),this.yourPin.setMap(this.map),this.map.panTo(n)}else this.yourPin.setMap(null)}},watch:{map:function(){this.$emit("emitMap",this.map)}}},l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"c-map"},[t("div",{staticClass:"c-map__btns"},[t("button",{staticClass:"c-map__location-btn",on:{click:this.getLocation}},[t("svg",{staticClass:"c-map__location-btn-icon",attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"38",height:"37",viewBox:"0 0 44 34"}},[t("defs",[t("filter",{attrs:{id:"a",width:"128%",height:"128%",x:"-14%",filterUnits:"objectBoundingBox"}},[t("feOffset",{attrs:{dy:"2",in:"SourceAlpha",result:"shadowOffsetOuter1"}}),t("feGaussianBlur",{attrs:{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:"2"}}),t("feColorMatrix",{attrs:{in:"shadowBlurOuter1",result:"shadowMatrixOuter1",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"}}),t("feMerge",[t("feMergeNode",{attrs:{in:"shadowMatrixOuter1"}}),t("feMergeNode",{attrs:{in:"SourceGraphic"}})],1)],1)]),t("path",{attrs:{fill:"#EFEFEF","fill-rule":"evenodd",d:"M6.67 25.25l30.45-13.58-15.23 30.35-2.61-13.71z",filter:"url(#a)",transform:"translate(-3 -10)"}})])])]),this._v(" "),t("div",{ref:"map",staticClass:"c-map__canvas"})])},staticRenderFns:[]},u=n("VU/8")(o,l,!1,null,null,null);t.a=u.exports},BXaq:function(e,t,n){"use strict";var a=n("fZjL"),s=n.n(a),i=n("Xxa5"),c=n.n(i),r=n("exGp"),o=n.n(r),l=n("MhFl"),u={name:"MyGems",props:["user"],data:function(){return{loading:!1,gems:[],deleting:null,loadingImgs:{}}},mounted:function(){var e=this;return o()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getGems();case 2:case"end":return t.stop()}},t,e)}))()},methods:{getGems:function(){var e=this;return o()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.loading=!0,e.$bindAsArray("gems",l.a.ref("gems").orderByChild("users/"+e.user.uid),null,function(){return e.loading=!1});case 2:case"end":return t.stop()}},t,e)}))()},deleteGem:function(e){var t=e[".key"];l.a.ref().child("gems").child(t).remove().then(function(){console.log("Remove succeeded.")}).catch(function(e){console.log("Remove failed: ",e.message)})},imageLoaded:function(e){this.$set(this.loadingImgs,e,!1)}},watch:{gems:function(e){var t=this,n=s()(this.loadingImgs);e.map(function(e){n.includes(e.place.id)||t.$set(t.loadingImgs,e.place.id,!0)})}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"c-my-gems"},[e._m(0),e._v(" "),e.loading?n("div",{staticClass:"spinner"}):n("ul",{staticClass:"c-my-gems__list"},e._l(e.gems,function(t,a){return n("li",{key:a,staticClass:"c-my-gem"},[n("div",{staticClass:"c-my-gem__cont"},[n("div",{staticClass:"c-my-gem__img-container",class:{"is-loading":e.loadingImgs[t.place.id]}},[n("img",{directives:[{name:"show",rawName:"v-show",value:!e.loadingImgs[t.place.id],expression:"!loadingImgs[g.place.id]"}],staticClass:"c-my-gem__img",attrs:{src:t.place.image_url,alt:"place-photo"},on:{load:function(n){e.imageLoaded(t.place.id)}}})]),e._v(" "),n("div",{staticClass:"c-my-gem__details"},[n("div",{staticClass:"c-my-gem__name"},[e._v(e._s(t.place.name))]),e._v(" "),n("div",{staticClass:"c-my-gem__loc"},[e._v(e._s(t.place.city)+", "+e._s(t.place.country))])]),e._v(" "),n("ul",{staticClass:"c-my-gem__btns"},[n("li",{staticClass:"c-my-gem__btn"},[n("a",{staticClass:"c-btn c-btn--naked",attrs:{href:t.place.link,target:"_blank"}},[e._v("\n              Link\n            ")])]),e._v(" "),n("li",{staticClass:"c-my-gem__btn"},[n("button",{staticClass:"c-btn c-btn--naked",on:{click:function(t){e.deleting=a}}},[e._v("\n              Trash\n            ")])])])]),e._v(" "),e.deleting===a?n("div",{staticClass:"c-my-gem__delete"},[e._v("\n        Are you sure you want to delete this gem?\n        "),n("div",{staticClass:"c-my-gem__delete-btns"},[n("button",{staticClass:"c-btn c-btn--naked",on:{click:function(n){e.deleteGem(t)}}},[e._v("Yes")]),e._v(" "),n("button",{staticClass:"c-btn c-btn--naked",on:{click:function(t){e.deleting=null}}},[e._v("No")])])]):e._e()])}))])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"c-my-gems__title"},[t("p",[this._v("Places you have discovered")])])}]},d=n("VU/8")(u,m,!1,null,null,null);t.a=d.exports},COvG:function(e,t,n){"use strict";var a=n("fgbI"),s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Accordion",{attrs:{label:"Filter"}},[n("ActivitySelect",{on:{getActivities:e.getActivities}}),e._v(" "),n("div",[n("label",{staticClass:"c-label"},[e._v("Order")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.sortBy,expression:"sortBy"}],staticClass:"c-select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.sortBy=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"distance"}},[e._v("Distance")]),e._v(" "),n("option",{attrs:{value:"best_match"}},[e._v("Best Match")]),e._v(" "),n("option",{attrs:{value:"rating"}},[e._v("Rating")]),e._v(" "),n("option",{attrs:{value:"review_count"}},[e._v("Review Count")])])])],1),e._v(" "),n("div",{staticClass:"u-txt-center"},[e.searching?n("div",{staticClass:"spinner"}):n("button",{staticClass:"c-btn",attrs:{disabled:e.searching},on:{click:function(t){return t.preventDefault(),e.search(t)}}},[e._v("\n      Search\n    ")])]),e._v(" "),e.places?n("Places",{attrs:{places:e.places,claimPlace:e.claimPlace,user:e.user,page:e.page,loading:e.searching,markers:e.markers,map:e.map,infoWindow:e.infoWindow},on:{getPlaces:e.getPlaces}}):e._e()],1)},staticRenderFns:[]},i=n("VU/8")(a.a,s,!1,null,null,null);t.a=i.exports},EwB7:function(e,t,n){"use strict";var a=n("fZjL"),s=n.n(a),i={name:"Places",props:["places","claimPlace","user","page","loading","markers","map","infoWindow"],data:function(){return{currentlyHighlighted:null,loadingImgs:{}}},methods:{highlight:function(e,t,n){var a=this;this.currentlyHighlighted!==n&&(this.currentlyHighlighted=n,this.markers.forEach(function(n){n.place.id===t&&(a.infoWindow.el.open(a.map,n),a.infoWindow.content=e)}))},loadMore:function(){this.$emit("getPlaces")},imageLoaded:function(e){this.$set(this.loadingImgs,e,!1)}},watch:{places:function(e){var t=this,n=s()(this.loadingImgs);e.map(function(e){n.includes(e.id)||t.$set(t.loadingImgs,e.id,!0)})}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"c-my-gems"},[n("ul",{staticClass:"c-my-gems__list"},e._l(e.places,function(t,a){return n("li",{key:a,staticClass:"c-my-gem",on:{mouseover:function(n){e.highlight(t,t.id,a)}}},[n("div",{staticClass:"c-my-gem__cont"},[n("div",{staticClass:"c-my-gem__img-container",class:{"is-loading":e.loadingImgs[t.id]}},[n("img",{directives:[{name:"show",rawName:"v-show",value:!e.loadingImgs[t.id],expression:"!loadingImgs[p.id]"}],staticClass:"c-my-gem__img",attrs:{src:t.image_url,alt:"place-photo"},on:{load:function(n){e.imageLoaded(t.id)}}})]),e._v(" "),n("div",{staticClass:"c-my-gem__details"},[n("div",{staticClass:"c-my-gem__name"},[e._v(e._s(t.name))]),e._v("\n          Shared by:\n          "),e._l(t.users,function(a,s){return t.users?n("div",{key:s},[e._v("\n            "+e._s(a.displayName)+"\n          ")]):e._e()})],2),e._v(" "),n("ul",{staticClass:"c-my-gem__btns"},[n("li",{staticClass:"c-my-gem__btn"},[n("a",{staticClass:"c-btn c-btn--naked",attrs:{href:t.url,target:"_blank"}},[e._v("\n              Link\n            ")])]),e._v(" "),n("li",{staticClass:"c-my-gem__btn"},[n("button",{staticClass:"c-btn c-btn--naked",attrs:{disabled:!e.user},on:{click:function(n){n.preventDefault(),e.claimPlace(t)}}},[e._v("\n              Claim\n            ")])])])])])})),e._v(" "),e.page>=1&&!e.loading?n("button",{staticClass:"c-btn",on:{click:function(t){return t.preventDefault(),e.loadMore(t)}}},[e._v("\n    Load More\n  ")]):e._e(),e._v(" "),e.page>=1&&e.loading?n("div",{staticClass:"spinner"}):e._e()])},staticRenderFns:[]},r=n("VU/8")(i,c,!1,null,null,null);t.a=r.exports},"H+ap":function(e,t){e.exports={activities:[{name:"park"},{name:"music"},{name:"cycling"},{name:"pub"},{name:"food"},{name:"shopping"},{name:"movies"},{name:"bouldering"},{name:"snowboarding"},{name:"climbing"},{name:"skatehboardng"},{name:"surfing"}]}},"H/op":function(e,t){},KKye:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzEiIGhlaWdodD0iNDMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTUuNSA0Mi4yNTNsMTIuMDYzLTkuMjQ4YTcuNSA3LjUgMCAwIDAgMi45MzctNS45NTJWOEE3LjUgNy41IDAgMCAwIDIzIC41SDhBNy41IDcuNSAwIDAgMCAuNSA4djE5LjA1M2E3LjUgNy41IDAgMCAwIDIuOTM3IDUuOTUyTDE1LjUgNDIuMjUzeiIgc3Ryb2tlPSIjNkI2QjZCIiBmaWxsPSIjRkZGIi8+PHBhdGggZD0iTTE1LjUgMzMuODNsLS4zMzUtLjI4M0M3Ljk1NSAyNy41OTcgNiAyNS41IDYgMjIuMWMwLTIuODMzIDIuMjM1LTUuMSA1LjAzLTUuMSAyLjI5IDAgMy41NzYgMS4zMDMgNC40NyAyLjMyMy44OTQtMS4wMiAyLjE4LTIuMzIzIDQuNDctMi4zMjMgMi43OTUgMCA1LjAzIDIuMjY3IDUuMDMgNS4xIDAgMy40LTEuOTU2IDUuNDk3LTkuMTY1IDExLjQ0N2wtLjMzNS4yODN6IiBmaWxsPSIjRkY2RjZGIi8+PHBhdGggZD0iTTE1LjUgMzMuODNsLS4zMzUtLjI4M0M3Ljk1NSAyNy41OTcgNiAyNS41IDYgMjIuMWMwLTIuODMzIDIuMjM1LTUuMSA1LjAzLTUuMSAyLjI5IDAgMy41NzYgMS4zMDMgNC40NyAyLjMyMy44OTQtMS4wMiAyLjE4LTIuMzIzIDQuNDctMi4zMjMgMi43OTUgMCA1LjAzIDIuMjY3IDUuMDMgNS4xIDAgMy40LTEuOTU2IDUuNDk3LTkuMTY1IDExLjQ0N2wtLjMzNS4yODN6bS00LjQ3LTE1LjY5N2MtMi4xOCAwLTMuOTEyIDEuNzU3LTMuOTEyIDMuOTY3IDAgMi44OSAxLjc4OCA0LjgxNyA4LjM4MiAxMC4yNTcgNi41OTQtNS40NCA4LjM4Mi03LjM2NyA4LjM4Mi0xMC4yNTcgMC0yLjIxLTEuNzMyLTMuOTY3LTMuOTExLTMuOTY3LTEuOTU2IDAtMy4wMTggMS4xOS0zLjg1NiAyLjE1NGwtLjYxNS43MzYtLjYxNS0uNzM2Yy0uODM4LS45NjQtMS45LTIuMTU0LTMuODU2LTIuMTU0eiIgZmlsbD0iIzZCNkI2QiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9nPjwvc3ZnPgo="},MhFl:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return c});var a=n("Sazm"),s=n.n(a),i=n("YtIj"),c=(n.n(i),s.a.initializeApp({apiKey:e.FIREBASE_KEY,authDomain:"do-more-ecc5c.firebaseapp.com",databaseURL:"https://do-more-ecc5c.firebaseio.com/",projectId:"do-more-ecc5c",storageBucket:"do-more-ecc5c.appspot.com",messagingSenderId:"669577878898"}).database())}).call(t,!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}())},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),s=n("1mcD"),i=n.n(s),c=n("xJD8"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"o-app",attrs:{id:"app"}},[t("router-view",{attrs:{googleMaps:this.googleMaps}})],1)},staticRenderFns:[]},o=n("VU/8")(c.a,r,!1,null,null,null).exports,l=n("/ocq"),u=n("tWeu"),m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"o-root"},[e.globalMap?e._e():n("div",{staticClass:"spinner"}),e._v(" "),e.globalMap?n("main",{staticClass:"o-main"},[n("User",{attrs:{user:e.user},on:{showUserMenu:function(t){e.menu=3}}}),e._v(" "),n("div",{staticClass:"c-menu"},[n("ul",{staticClass:"c-menu__tabs"},[n("li",{staticClass:"c-menu__tab"},[n("button",{staticClass:"c-menu__tab-btn",class:{" c-menu__tab-btn--is-active":0===e.menu},on:{click:function(t){e.menu=0}}},[e._v("\n            Discover\n          ")])]),e._v(" "),n("li",{staticClass:"c-menu__tab"},[n("button",{staticClass:"c-menu__tab-btn",class:{" c-menu__tab-btn--is-active":2===e.menu},attrs:{disabled:!e.user},on:{click:function(t){e.menu=2}}},[e._v("\n            Hot\n          ")])])]),e._v(" "),n("div",{staticClass:"c-menu__cont"},[n("LocationSearch",{directives:[{name:"show",rawName:"v-show",value:0===e.menu,expression:"menu === 0"}],staticClass:"c-form__item",attrs:{map:e.globalMap}}),e._v(" "),n("FindPlaces",{directives:[{name:"show",rawName:"v-show",value:0===e.menu,expression:"menu === 0"}],attrs:{user:e.user,map:e.globalMap,radius:e.radius,infoWindow:e.infoWindow,claimPlace:e.claimPlace},on:{emitMarkers:e.updateMarkers,clearMarkers:e.clearMarkers}}),e._v(" "),2===e.menu?n("Finds"):e._e(),e._v(" "),e.user?n("MyGems",{directives:[{name:"show",rawName:"v-show",value:3===e.menu,expression:"menu === 3"}],attrs:{user:e.user}}):e._e()],1)])],1):e._e(),e._v(" "),e.googleMaps?n("aside",{staticClass:"o-aside"},[n("Map",{attrs:{markers:e.globalMarkers,infoWindow:e.infoWindow},on:{emitMap:e.updateMap}})],1):e._e(),e._v(" "),n("InfoWindow",{ref:"infoW",attrs:{place:e.infoWindow.content,claimPlace:e.claimPlace}})],1)},staticRenderFns:[]},d=n("VU/8")(u.a,m,!1,null,null,null).exports;a.a.use(l.a);var g=new l.a({routes:[{path:"/",name:"Initial",component:d}]});n("MhFl"),n("H/op");a.a.use(i.a),a.a.config.productionTip=!1,new a.a({el:"#app",router:g,components:{App:o},template:"<App/>"})},Qro0:function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="Qro0"},dkK6:function(e,t,n){"use strict";var a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"c-info-window"},[e.place?[n("div",{staticClass:"c-info-window__img-container",class:{"is-loading":e.loading}},[n("img",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"c-info-window__img",attrs:{src:e.place.image_url,alt:"place-photo"},on:{load:function(t){e.loading=!1}}})]),e._v(" "),n("b",{staticClass:"c-info-window__title"},[e._v(e._s(e.place.name))]),e._v(" "),n("div",{staticClass:"c-info-window__shares"},[e._v("\n      Shared by:\n      "),e._l(e.place.users,function(t,a){return e.place.users?n("div",{key:a},[e._v("\n        "+e._s(t.displayName)+"\n      ")]):e._e()})],2),e._v(" "),n("ul",{staticClass:"c-info-window__links"},[n("li",{staticClass:"c-info-window__link"},[n("a",{staticClass:"c-btn c-btn--naked",attrs:{href:e.place.url,target:"_blank"}},[e._v("\n          Link\n        ")])]),e._v(" "),n("li",{staticClass:"c-info-window__link"},[n("button",{staticClass:"c-btn c-btn--naked",on:{click:function(t){t.preventDefault(),e.claimPlace(e.place)}}},[e._v("\n          Save\n        ")])])])]:e._e()],2)},staticRenderFns:[]};var s=n("VU/8")({name:"InfoWindow",props:["place","claimPlace","itineraries"],data:function(){return{itinerary:null,loading:!0}},computed:{id:function(){if(this.place)return this.place.id}},watch:{itineraries:function(){this.itineraries.length&&(this.itinerary=this.itineraries[0][".key"])},id:function(){this.loading=!0}}},a,!1,function(e){n("s/fk")},"data-v-09eb6de8",null);t.a=s.exports},fViJ:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzEiIGhlaWdodD0iNDMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTUuNSA0Mi4yNTNsMTIuMDYzLTkuMjQ4YTcuNSA3LjUgMCAwIDAgMi45MzctNS45NTJWOEE3LjUgNy41IDAgMCAwIDIzIC41SDhBNy41IDcuNSAwIDAgMCAuNSA4djE5LjA1M2E3LjUgNy41IDAgMCAwIDIuOTM3IDUuOTUyTDE1LjUgNDIuMjUzeiIgc3Ryb2tlPSIjNkI2QjZCIiBmaWxsPSIjRkZGIi8+PHBhdGggZD0iTTE1LjUgMzMuODNsLS4zMzUtLjI4M0M3Ljk1NSAyNy41OTcgNiAyNS41IDYgMjIuMWMwLTIuODMzIDIuMjM1LTUuMSA1LjAzLTUuMSAyLjI5IDAgMy41NzYgMS4zMDMgNC40NyAyLjMyMy44OTQtMS4wMiAyLjE4LTIuMzIzIDQuNDctMi4zMjMgMi43OTUgMCA1LjAzIDIuMjY3IDUuMDMgNS4xIDAgMy40LTEuOTU2IDUuNDk3LTkuMTY1IDExLjQ0N2wtLjMzNS4yODN6IiBmaWxsPSIjRDdEN0Q3Ii8+PHBhdGggZD0iTTE1LjUgMzMuODNsLS4zMzUtLjI4M0M3Ljk1NSAyNy41OTcgNiAyNS41IDYgMjIuMWMwLTIuODMzIDIuMjM1LTUuMSA1LjAzLTUuMSAyLjI5IDAgMy41NzYgMS4zMDMgNC40NyAyLjMyMy44OTQtMS4wMiAyLjE4LTIuMzIzIDQuNDctMi4zMjMgMi43OTUgMCA1LjAzIDIuMjY3IDUuMDMgNS4xIDAgMy40LTEuOTU2IDUuNDk3LTkuMTY1IDExLjQ0N2wtLjMzNS4yODN6bS00LjQ3LTE1LjY5N2MtMi4xOCAwLTMuOTEyIDEuNzU3LTMuOTEyIDMuOTY3IDAgMi44OSAxLjc4OCA0LjgxNyA4LjM4MiAxMC4yNTcgNi41OTQtNS40NCA4LjM4Mi03LjM2NyA4LjM4Mi0xMC4yNTcgMC0yLjIxLTEuNzMyLTMuOTY3LTMuOTExLTMuOTY3LTEuOTU2IDAtMy4wMTggMS4xOS0zLjg1NiAyLjE1NGwtLjYxNS43MzYtLjYxNS0uNzM2Yy0uODM4LS45NjQtMS45LTIuMTU0LTMuODU2LTIuMTU0eiIgZmlsbD0iIzZCNkI2QiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9nPjwvc3ZnPgo="},fgbI:function(e,t,n){"use strict";(function(e){var a=n("fZjL"),s=n.n(a),i=n("Gu7T"),c=n.n(i),r=n("Xxa5"),o=n.n(r),l=n("exGp"),u=n.n(l),m=n("bOdI"),d=n.n(m),g=n("MhFl"),p=(n("jyVo"),n("mtWM")),v=n.n(p),f=n("zmjZ"),h=n("tEWQ"),M=n("EwB7"),_=n("fViJ"),y=n.n(_),w=n("KKye"),I=n.n(w);t.a={name:"FindPlaces",props:["infoWindow","radius","map","claimPlace","user"],data:function(){var e;return e={page:0,places:[],markers:[],selected:[],searching:!1},d()(e,"places",null),d()(e,"sortBy","best_match"),e},methods:{getPlaces:function(){var e=this;return u()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.searching=!0,0===e.page&&(e.places=[]),t.next=4,e.buildList();case 4:return t.next=6,e.placeYelpMarkers(e.places);case 6:e.places.length>=25&&(e.page+=1),e.searching=!1;case 8:case"end":return t.stop()}},t,e)}))()},search:function(){var e=this;return u()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.page=0,t.next=3,e.getPlaces();case 3:case"end":return t.stop()}},t,e)}))()},buildList:function(){var e=this;return u()(o.a.mark(function t(){var n,a,s,i,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null,!(e.selected.length>0)){t.next=13;break}n=0;case 3:if(!(n<e.selected.length)){t.next=11;break}return t.next=6,e.getYelpPlaces(e.selected[n],e.radius,e.sortBy);case 6:s=t.sent,(a=e.places).push.apply(a,c()(s));case 8:n++,t.next=3;break;case 11:t.next=17;break;case 13:return t.next=15,e.getYelpPlaces(null,e.radius,e.sortBy);case 15:r=t.sent,(i=e.places).push.apply(i,c()(r));case 17:case"end":return t.stop()}},t,e)}))()},getYelpPlaces:function(e,t,n){var a=this;return u()(o.a.mark(function s(){var i,c,r,l;return o.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.map.center.lat();case 2:return i=s.sent,s.next=5,a.map.center.lng();case 5:return c=s.sent,s.prev=6,s.next=9,v.a.get("/api",{params:{lat:i,lng:c,offset:25*a.page,term:e,radius:t,sortBy:n}});case 9:return r=s.sent,l=r.data,s.abrupt("return",l);case 14:s.prev=14,s.t0=s.catch(6),console.log(s.t0);case 17:case"end":return s.stop()}},s,a,[[6,14]])}))()},getUsers:function(e,t){var n=this;g.a.ref("gems").orderByChild("place/id").equalTo(t).on("value",function(t){if(t.val())for(var a in t.val()){var s=t.val()[a];n.$set(e,"users",s.users)}})},placeYelpMarkers:function(t){var a=this;return u()(o.a.mark(function i(){var c,r,l;return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:a.markers=[],a.$emit("clearMarkers"),c=a,r=o.a.mark(function i(r){var l,u;return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,a.getUsers(t[r],t[r].id);case 2:l=t[r].users?String(s()(t[r].users).length):String(0),u=t[r].users?I.a:y.a,e.load(function(e){var a=n("Xe03")(e.maps);c.markers[r]=new a({position:{lat:t[r].coordinates.latitude,lng:t[r].coordinates.longitude},labelContent:l,icon:u,map:c.map,labelAnchor:new e.maps.Point(15.5,42),labelClass:"marker-label"})}),c.markers[r].place=t[r],google.maps.event.addListener(c.markers[r],"click",function(){c.infoWindow.el.open(c.map,this),c.infoWindow.content=t[r]});case 7:case"end":return i.stop()}},i,a)}),l=0;case 5:if(!(l<t.length)){i.next=10;break}return i.delegateYield(r(l),"t0",7);case 7:l++,i.next=5;break;case 10:case"end":return i.stop()}},i,a)}))()},getActivities:function(e){this.selected=e}},watch:{selected:function(){this.page=0},markers:function(){this.$emit("emitMarkers",this.markers)}},components:{Accordion:h.a,ActivitySelect:f.a,Places:M.a}}}).call(t,n("lMsw"))},jFfm:function(e,t,n){"use strict";var a={name:"LocationSearch",props:["map","places"],data:function(){return{invalidPlace:!1}},mounted:function(){this.initLocationSearch()},methods:{initLocationSearch:function(){var e=this,t=this.$refs.loc,n=new google.maps.places.Autocomplete(t);n.addListener("place_changed",function(){var t=n.getPlace();if(t.geometry){t.types.includes("establishment")&&console.log(t),e.invalidPlace=!1;var a=new google.maps.LatLng(t.geometry.location.lat(),t.geometry.location.lng());e.map.panTo(a)}else e.invalidPlace=!0})}}},s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("label",{staticClass:"c-label"},[this._v("Location search")]),this._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:this.invalidPlace,expression:"invalidPlace"}]},[this._v("Click to search")]),this._v(" "),t("input",{ref:"loc",staticClass:"c-text-input",attrs:{placeholder:"Search Location"}})])},staticRenderFns:[]},i=n("VU/8")(a,s,!1,null,null,null);t.a=i.exports},jyJz:function(e,t,n){"use strict";var a=n("It2I"),s=n.n(a),i={name:"User",props:["user"],data:function(){return{message:""}},methods:{userSettings:function(){},signIn:function(){var e=new s.a.auth.TwitterAuthProvider;s.a.auth().signInWithRedirect(e)},signOut:function(){s.a.auth().signOut().then(function(){console.log("signed out")}).catch(function(e){console.log(e)})},showUserMenu:function(){this.$emit("showUserMenu")}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"c-user"},[e.user?[n("button",{staticClass:"c-user__details c-user__details--signed-in",on:{click:function(t){return t.preventDefault(),e.showUserMenu(t)}}},[n("div",{staticClass:"c-user__icon",style:{"background-image":"url("+e.user.photoURL+")"}}),e._v(" "),n("h2",{staticClass:"c-user__name"},[e._v("\n        "+e._s(e.user.displayName)+"\n      ")])]),e._v(" "),n("button",{staticClass:"c-btn c-btn--naked",on:{click:function(t){return t.preventDefault(),e.signOut(t)}}},[e._v("\n      Sign out\n    ")])]:[e._m(0),e._v(" "),n("button",{staticClass:"c-btn c-btn--naked",on:{click:function(t){return t.preventDefault(),e.signIn(t)}}},[e._v("\n      Sign in\n    ")])]],2)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"c-user__details"},[t("h2",{staticClass:"c-user__name"},[this._v("\n        Guest\n      ")]),this._v(" "),t("span",[this._v("Sign in to claim places")])])}]},r=n("VU/8")(i,c,!1,null,null,null);t.a=r.exports},jyVo:function(e,t,n){"use strict";var a={calcPrimeLocation:function(e){if(!(e.length>0))return!1;for(var t=e.length,n=0,a=0,s=0,i=0;i<e.length;i++){var c=e[i][0]*Math.PI/180,r=e[i][1]*Math.PI/180;n+=Math.cos(c)*Math.cos(r),a+=Math.cos(c)*Math.sin(r),s+=Math.sin(c)}n/=t,a/=t,s/=t;r=Math.atan2(a,n);var o=Math.sqrt(n*n+a*a),l=180*(c=Math.atan2(s,o))/Math.PI,u=180*r/Math.PI;return new Array(l,u)},pinSymbol:function(e){return{url:"M 0,0 C -2,-20 -10,-22 -10,-30 A 10,10 0 1,1 10,-30 C 10,-22 2,-20 0,0 z",fillColor:e,fillOpacity:1,scale:1}}};t.a=a},"s/fk":function(e,t){},tEWQ:function(e,t,n){"use strict";var a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"c-accordion"},[n("button",{staticClass:"c-accordion__btn",class:{"is-active":e.isOpen},on:{click:function(t){t.preventDefault(),e.isOpen=!e.isOpen}}},[e._v("\n    "+e._s(e.label)+"\n  ")]),e._v(" "),n("transition",{attrs:{name:"slide"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"c-accordion__drawer",class:{"is-active":e.isOpen}},[e._t("default")],2)])],1)},staticRenderFns:[]},s=n("VU/8")({name:"Accordion",props:["label"],data:function(){return{isOpen:!1}},methods:{}},a,!1,null,null,null);t.a=s.exports},tWeu:function(e,t,n){"use strict";(function(e){var a=n("BO1k"),s=n.n(a),i=n("bOdI"),c=n.n(i),r=n("//Fk"),o=n.n(r),l=n("Xxa5"),u=n.n(l),m=n("exGp"),d=n.n(m),g=n("Sazm"),p=n.n(g),v=n("3GDu"),f=n("jFfm"),h=n("COvG"),M=n("BXaq"),_=n("yi+d"),y=n("dkK6"),w=n("jyJz"),I=n("MhFl");t.a={name:"Initial",props:["googleMaps"],data:function(){return{itinerary:null,user:null,menu:0,infoWindow:{el:null,content:null},globalMap:null,selectedActiv:[],globalMarkers:[],showPlaces:!1}},created:function(){var t=this;return d()(u.a.mark(function n(){return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t,p.a.auth().onAuthStateChanged(function(e){return t.user=e}),e.load(function(e){t.infoWindow.el=new e.maps.InfoWindow({content:t.$refs.infoW.$el})});case 3:case"end":return n.stop()}},n,t)}))()},methods:{updateMap:function(e){this.globalMap=e},updateMarkers:function(e){this.globalMarkers=e},clearMarkers:function(){var e=this;return d()(u.a.mark(function t(){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,t.abrupt("return",new o.a(function(e,t){for(var a=0;a<n.globalMarkers.length;a++)n.globalMarkers[a].setMap(null);n.globalMarkers=[],e()}));case 2:case"end":return t.stop()}},t,e)}))()},claimPlace:function(e){var t={};if(e.place){var n=null,a=null,i=!0,r=!1,o=void 0;try{for(var l,u=s()(e.place.address_components);!(i=(l=u.next()).done);i=!0){var m=l.value;m.types.includes("postal_town")?n=m.short_name:m.types.includes("country")&&(a=m.short_name)}}catch(e){r=!0,o=e}finally{try{!i&&u.return&&u.return()}finally{if(r)throw o}}t={place:{users:c()({},this.user.uid,{id:this.user.uid,displayName:this.user.displayName,photoURL:this.user.photoURL}),id:e.place.id,name:e.place.name,city:n,country:a,pos:{lat:e.place.geometry.location.lat(),lng:e.place.geometry.location.lng()},image_url:void 0!==e.place.photos?e.place.photos[0].getUrl({maxWidth:100,maxHeight:100}):"",link:e.url}}}else t={users:c()({},this.user.uid,{id:this.user.uid,displayName:this.user.displayName,photoURL:this.user.photoURL}),place:{id:e.id,name:e.name,city:e.location.city,country:e.location.country,pos:{lat:e.coordinates.latitude,lng:e.coordinates.longitude},image_url:e.image_url,link:e.url}};I.a.ref("gems").push(t)},getPlaces:function(e){this.itineraryList=e,this.showPlaces=!0},getItineraries:function(){this.showPlaces=!1},panMap:function(e){for(var t=new e.maps.LatLngBounds,n=0;n<this.globalMarkers.length;n++)t.extend(this.globalMarkers[n].getPosition());this.globalMap.fitBounds(t)}},computed:{radius:function(){var e=void 0,t=this.globalMap.getBounds(),n=this.globalMap.getCenter();if(t&&n){var a=t.getNorthEast();e=this.googleMaps.geometry.spherical.computeDistanceBetween(n,a)}return Math.floor(e)}},components:{LocationSearch:f.a,FindPlaces:h.a,Map:v.a,MyGems:M.a,Finds:_.a,InfoWindow:y.a,User:w.a}}}).call(t,n("lMsw"))},xJD8:function(e,t,n){"use strict";(function(e,n){n.KEY=e.GOOGLEMAPS_KEY,n.LIBRARIES=["places","geometry"],t.a={name:"App",data:function(){return{googleMaps:null}},created:function(){var e=this;n.load(function(t){e.googleMaps=t.maps})}}}).call(t,!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}(),n("lMsw"))},yOnu:function(e,t){},"yi+d":function(e,t,n){"use strict";var a=n("fZjL"),s=n.n(a),i=n("Xxa5"),c=n.n(i),r=n("exGp"),o=n.n(r),l=n("MhFl"),u={name:"Finds",props:[],data:function(){return{loading:!1,gems:[],deleting:null,loadingImgs:{}}},mounted:function(){var e=this;return o()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getGems();case 2:case"end":return t.stop()}},t,e)}))()},methods:{getGems:function(){var e=this;return o()(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.loading=!0,e.$bindAsArray("gems",l.a.ref("gems"),null,function(){return e.loading=!1});case 2:case"end":return t.stop()}},t,e)}))()},imageLoaded:function(e){this.$set(this.loadingImgs,e,!1)}},watch:{gems:function(e){var t=this,n=s()(this.loadingImgs);e.map(function(e){n.includes(e.place.id)||t.$set(t.loadingImgs,e.place.id,!0)})}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"c-my-gems"},[e._m(0),e._v(" "),e.loading?n("div",{staticClass:"spinner"}):n("ul",{staticClass:"c-my-gems__list"},e._l(e.gems,function(t,a){return n("li",{key:a,staticClass:"c-my-gem"},[n("div",{staticClass:"c-my-gem__cont"},[n("div",{staticClass:"c-my-gem__img-container",class:{"is-loading":e.loadingImgs[t.place.id]}},[n("img",{directives:[{name:"show",rawName:"v-show",value:!e.loadingImgs[t.place.id],expression:"!loadingImgs[g.place.id]"}],staticClass:"c-my-gem__img",attrs:{src:t.place.image_url,alt:"place-photo"},on:{load:function(n){e.imageLoaded(t.place.id)}}})]),e._v(" "),n("div",{staticClass:"c-my-gem__details"},[n("div",{staticClass:"c-my-gem__name"},[e._v(e._s(t.place.name))]),e._v(" "),n("div",{staticClass:"c-my-gem__loc"},[e._v(e._s(t.place.city)+", "+e._s(t.place.country))]),e._v(" "),n("div",[e._v("Shared by:")]),e._v(" "),e._l(t.users,function(a,s){return t.users?n("div",{key:s},[e._v("\n            "+e._s(a.displayName)+"\n          ")]):e._e()})],2),e._v(" "),n("ul",{staticClass:"c-my-gem__btns"},[n("li",{staticClass:"c-my-gem__btn"},[n("a",{staticClass:"c-btn c-btn--naked",attrs:{href:t.place.link,target:"_blank"}},[e._v("\n              Link\n            ")])])])])])}))])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"c-my-gems__title"},[t("p",[this._v("Popular places being shared")])])}]},d=n("VU/8")(u,m,!1,null,null,null);t.a=d.exports},zmjZ:function(e,t,n){"use strict";var a=n("RUzx"),s=n.n(a),i=n("H+ap"),c=n.n(i),r={name:"ActivitySelect",props:["getActivities"],components:{Multiselect:s.a},data:function(){return{value:null,options:c.a.activities}},watch:{value:function(e){var t=e.map(function(e){return e.name});this.$emit("getActivities",t)}}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",{staticClass:"c-label"},[e._v("Activities")]),e._v(" "),n("multiselect",{staticClass:"c-multiselect-custom",attrs:{options:e.options,multiple:!0,"close-on-select":!0,"clear-on-select":!0,"hide-selected":!1,"preserve-search":!0,placeholder:"Pick some",label:"name","track-by":"name","preselect-first":!1,limit:3,showLabels:!0},scopedSlots:e._u([{key:"tag",fn:function(t){return n("div",{staticClass:"c-multiselect-custom__tag"},[n("span",{staticClass:"c-multiselect-custom__tag-name"},[e._v("\n        "+e._s(t.option.name)+"\n      ")]),e._v(" "),n("span",{staticClass:"c-multiselect-custom__tag-remove",on:{click:function(e){t.remove(t.option)}}},[e._v("\n        ✕\n      ")])])}}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},staticRenderFns:[]};var l=n("VU/8")(r,o,!1,function(e){n("yOnu")},null,null);t.a=l.exports}},["NHnr"]);
//# sourceMappingURL=app.f6301db5b64356130088.js.map