{"version":3,"sources":["webpack:///src/components/Map.vue","webpack:///./src/components/Map.vue?d20d","webpack:///./src/components/Map.vue","webpack:///src/components/ActivitySelect.vue","webpack:///./src/components/ActivitySelect.vue?37f7","webpack:///./src/components/ActivitySelect.vue","webpack:///./src/components/Accordion.vue?274b","webpack:///./src/components/Accordion.vue","webpack:///src/components/Accordion.vue","webpack:///src/components/Places.vue","webpack:///./src/components/Places.vue?6b1a","webpack:///src/components/FindPlaces.vue","webpack:///./src/components/Places.vue","webpack:///./src/components/FindPlaces.vue?2718","webpack:///./src/components/FindPlaces.vue","webpack:///./src/components/activityList.json","webpack:///./src/assets/full-heart.svg","webpack:///./src/utils.js","webpack:///./src/firebase.js","webpack:///./src/App.vue?8c72","webpack:///./src/App.vue","webpack:///./src/components/Initial.vue?c42a","webpack:///./src/components/Initial.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///src/components/PlaceCard.vue","webpack:///./src/components/PlaceCard.vue?f2c4","webpack:///./src/components/PlaceCard.vue","webpack:///src/components/HotList.vue","webpack:///./src/components/HotList.vue?48ae","webpack:///./src/components/HotList.vue","webpack:///src/components/InfoWindow.vue","webpack:///./src/components/InfoWindow.vue?0a78","webpack:///./src/components/InfoWindow.vue","webpack:///src/components/MyFinds.vue","webpack:///./src/components/MyFinds.vue?c566","webpack:///./src/components/MyFinds.vue","webpack:///./src/assets/empty-heart.svg","webpack:///src/components/LocationSearch.vue","webpack:///./src/components/LocationSearch.vue?3956","webpack:///./src/components/LocationSearch.vue","webpack:///src/components/User.vue","webpack:///./src/components/User.vue?1e13","webpack:///./src/components/User.vue","webpack:///src/components/Initial.vue","webpack:///src/App.vue"],"names":["Map","initMap","_this","this","google","position","visibility","getLocation","map","stop","lat","lng","name","marker","formatted_phone_number","place","url","photos","getUrl","maxWidth","maxHeight","icon","_this2","coords","longitude","panPoint","message","_this3","DROP","markerPositions","components_Map","render","_h","$createElement","_c","_self","staticClass","on","click","attrs","xmlns","xmlns:xlink","width","height","viewBox","id","x","filterUnits","dy","in","result","stdDeviation","values","fill","fill-rule","d","filter","transform","_v","ref","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__","ActivitySelect","Multiselect","vue_multiselect_min_default","a","activities","components_ActivitySelect","_vm","options","multiple","close-on-select","clear-on-select","hide-selected","preserve-search","placeholder","label","track-by","preselect-first","limit","showLabels","scopedSlots","_u","key","fn","props","_s","option","$event","remove","model","value","callback","$$v","expression","src_components_ActivitySelect","ssrContext","components_Accordion","class","is-active","isOpen","preventDefault","directives","rawName","_t","src_components_Accordion","Accordion_normalizeComponent","Places","idx","m","p","data","log","_context","t0","loadingImgs","PlaceCard","components_Places","_l","i","user","loading","image_url","link","users","identifier","hover","highlight","loaded","imageLoaded","save","savePlace","trash","deletePlace","page","loadMore","_e","FindPlaces","_ref","defineProperty_default","child","uid","then","catch","error","set","newMarker","infoWindow","markers","buildList","list","placeYelpMarkers","getPlaces","selected","sortBy","results","_results","places","_this4","mapLat","mapLng","term","radius","_context4","_this5","ids","placesWithUsers","_context5","_this6","$utils","Places_normalizeComponent","components_FindPlaces","getActivities","change","$$selectedVal","Array","prototype","call","target","o","_value","disabled","searching","search","FindPlaces_Component","FindPlaces_normalizeComponent","module","exports","utils","generateId","Date","now","toString","Math","random","substr","toUpperCase","iw","userCount","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys___default","length","markerCount","pos","coordinates","latitude","labelContent","String","__WEBPACK_IMPORTED_MODULE_3__assets_full_heart_svg___default","__WEBPACK_IMPORTED_MODULE_4__assets_empty_heart_svg___default","zIndex","gm","load","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","mark","_callee","MarkerWithLabel","wrap","prev","next","maps","labelAnchor","Point","labelClass","event","addListener","el","open","content","_x","apply","arguments","calcPrimeLocation","numCoords","X","Y","Z","PI","lon","cos","sin","atan2","hyp","sqrt","pinSymbol","color","fillColor","fillOpacity","scale","db","__WEBPACK_IMPORTED_MODULE_0_firebase___default","initializeApp","apiKey","undefined","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","database","selectortype_template_index_0_src_App","src_App","App","components_Initial","globalMap","showUserMenu","menu"," c-menu__tab-btn--is-active","globalMarkers","emitMarkers","updateMarkers","clearMarkers","createMarker","panToPlace","emitMap","updateMap","src_components_Initial","Initial_normalizeComponent","Initial","vue_esm","use","vue_router_esm","router","routes","path","component","main_plugin","install","vuefire_default","config","productionTip","components","template","components_PlaceCard","mouseover","is-loading","src","alt","city","country","u","style","background-image","photoURL","title","displayName","href","HotList","getfinds","components_HotList","_m","g","components_InfoWindow","MyFinds","saved","firebase","once","snap","val","components_MyFinds","k","LocationSearch","initLocationSearch","loc","input","getPlace","LatLng","geometry","location","components_LocationSearch","User","TwitterAuthProvider","provider","components_User","signOut","signIn","getUser","err","userObj","buildPlaceObj","short_name","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_defineProperty___default","newPlace","$el","success","placeId","placeObj","placeKey","_placeObj","latLng","getBounds","getCenter","getNorthEast","ne","__WEBPACK_IMPORTED_MODULE_7__LocationSearch__","__WEBPACK_IMPORTED_MODULE_8__FindPlaces__","__WEBPACK_IMPORTED_MODULE_6__Map__","__WEBPACK_IMPORTED_MODULE_9__MyFinds__","__WEBPACK_IMPORTED_MODULE_10__HotList__","InfoWindow","__WEBPACK_IMPORTED_MODULE_11__InfoWindow__","__WEBPACK_IMPORTED_MODULE_12__User__","KEY","LIBRARIES"],"mappings":"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","file":"static/js/app.430d288f3ab966f944b4.js","sourcesContent":["<template>\n  <div class=\"c-map\">\n    <div class=\"c-map__btns\">\n      <button class=\"c-map__location-btn\" @click=\"getLocation\">\n        <svg class=\"c-map__location-btn-icon\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"38\" height=\"37\" viewBox=\"0 0 44 34\"><defs><filter id=\"a\" width=\"128%\" height=\"128%\" x=\"-14%\" filterUnits=\"objectBoundingBox\"><feOffset dy=\"2\" in=\"SourceAlpha\" result=\"shadowOffsetOuter1\"/><feGaussianBlur in=\"shadowOffsetOuter1\" result=\"shadowBlurOuter1\" stdDeviation=\"2\"/><feColorMatrix in=\"shadowBlurOuter1\" result=\"shadowMatrixOuter1\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0\"/><feMerge><feMergeNode in=\"shadowMatrixOuter1\"/><feMergeNode in=\"SourceGraphic\"/></feMerge></filter></defs><path fill=\"#EFEFEF\" fill-rule=\"evenodd\" d=\"M6.67 25.25l30.45-13.58-15.23 30.35-2.61-13.71z\" filter=\"url(#a)\" transform=\"translate(-3 -10)\"/></svg>\n      </button>\n      <!-- <button class=\"c-map__btn\" @click=\"whereToGo\">Where should I be?</button> -->\n    </div>\n    <div class=\"c-map__canvas\" ref=\"map\"></div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'Map',\n  props: ['emitMap', 'markers', 'infoWindow', 'google'],\n  data() {\n    return {\n      position: { lat: 0, lng: 0 },\n      map: null,\n      currentPlace: null,\n      errors: [],\n      myPosPin: null,\n    };\n  },\n  mounted() {\n    this.initMap();\n  },\n  methods: {\n    initMap() {\n      const google = this.google;\n      const myStyles = [{\n        featureType: 'poi',\n        elementType: 'labels',\n        stylers: [\n          { visibility: 'off' },\n        ],\n      }];\n      const icon = this.$utils.pinSymbol('green');\n      this.map = new google.maps.Map(this.$refs.map, {\n        zoom: 15,\n        center: this.position,\n        mapTypeControl: false,\n        styles: myStyles,\n      });\n      this.getLocation();\n      const service = new google.maps.places.PlacesService(this.map);\n      google.maps.event.addListener(this.map, 'click', (event) => {\n        if (event.placeId) {\n          event.stop();\n          service.getDetails({ placeId: event.placeId }, (place, status) => {\n            const lat = place.geometry.location.lat();\n            const lng = place.geometry.location.lng();\n            const marker = new google.maps.Marker({\n              position: { lat, lng },\n              map: this.map,\n              title: place.name,\n              visible: false,\n            });\n            this.infoWindow.el.open(this.map, marker);\n            if (status === 'OK') {\n              this.infoWindow.content = {\n                name: place.name,\n                phone: place.formatted_phone_number,\n                place,\n                url: place.url,\n                image_url: typeof place.photos !== 'undefined'\n                  ? place.photos[0].getUrl({ maxWidth: 100, maxHeight: 100 })\n                  : '',\n              };\n            }\n          });\n        }\n      });\n      this.yourPin = new google.maps.Marker({ icon });\n    },\n    getLocation() {\n      const google = this.google;\n      if (navigator.geolocation) {\n        const options = {\n          enableHighAccuracy: true,\n          timeout: 10000,\n          maximumAge: 0,\n        };\n        navigator.geolocation.getCurrentPosition((pos) => {\n          const crd = pos.coords;\n          const panPoint = new google.maps.LatLng(crd.latitude, crd.longitude);\n          this.map.panTo(panPoint);\n          this.placeMyPosPin(crd.latitude, crd.longitude);\n        }, (err) => {\n          console.warn(`ERROR(${err.code}): ${err.message}`);\n        }, options);\n      }\n    },\n    async placeMyPosPin(lat, lng) {\n      const google = this.google;\n      if (this.myPosPin) this.myPosPin.setMap(null);\n      this.myPosPin = new google.maps.Marker({\n        position: { lat, lng },\n        icon: this.$utils.pinSymbol('green'),\n        animation: google.maps.Animation.DROP,\n      });\n      this.myPosPin.setMap(this.map);\n    },\n    whereToGo() {\n      const google = this.google;\n      const markerPositions = this.markers.map(mark => [mark.position.lat(), mark.position.lng()]);\n      const yourPlace = this.$utils.calcPrimeLocation(markerPositions);\n      if (yourPlace) {\n        const panPoint = new google.maps.LatLng(yourPlace[0], yourPlace[1]);\n        this.yourPin.setPosition({ lat: yourPlace[0], lng: yourPlace[1] });\n        this.yourPin.setMap(this.map);\n        this.map.panTo(panPoint);\n      } else {\n        this.yourPin.setMap(null);\n      }\n    },\n  },\n  watch: {\n    map() {\n      this.$emit('emitMap', this.map);\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Map.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c-map\"},[_c('div',{staticClass:\"c-map__btns\"},[_c('button',{staticClass:\"c-map__location-btn\",on:{\"click\":_vm.getLocation}},[_c('svg',{staticClass:\"c-map__location-btn-icon\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"width\":\"38\",\"height\":\"37\",\"viewBox\":\"0 0 44 34\"}},[_c('defs',[_c('filter',{attrs:{\"id\":\"a\",\"width\":\"128%\",\"height\":\"128%\",\"x\":\"-14%\",\"filterUnits\":\"objectBoundingBox\"}},[_c('feOffset',{attrs:{\"dy\":\"2\",\"in\":\"SourceAlpha\",\"result\":\"shadowOffsetOuter1\"}}),_c('feGaussianBlur',{attrs:{\"in\":\"shadowOffsetOuter1\",\"result\":\"shadowBlurOuter1\",\"stdDeviation\":\"2\"}}),_c('feColorMatrix',{attrs:{\"in\":\"shadowBlurOuter1\",\"result\":\"shadowMatrixOuter1\",\"values\":\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0\"}}),_c('feMerge',[_c('feMergeNode',{attrs:{\"in\":\"shadowMatrixOuter1\"}}),_c('feMergeNode',{attrs:{\"in\":\"SourceGraphic\"}})],1)],1)]),_c('path',{attrs:{\"fill\":\"#EFEFEF\",\"fill-rule\":\"evenodd\",\"d\":\"M6.67 25.25l30.45-13.58-15.23 30.35-2.61-13.71z\",\"filter\":\"url(#a)\",\"transform\":\"translate(-3 -10)\"}})])])]),_vm._v(\" \"),_c('div',{ref:\"map\",staticClass:\"c-map__canvas\"})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0220c0ef\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Map.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Map.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Map.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0220c0ef\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Map.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Map.vue\n// module id = null\n// module chunks = ","<!-- Vue component -->\n<template>\n  <div>\n    <label class=\"c-label\">Activities</label>\n    <multiselect v-model=\"value\"\n      :options=\"options\"\n      :multiple=\"true\"\n      :close-on-select=\"true\"\n      :clear-on-select=\"true\"\n      :hide-selected=\"false\"\n      :preserve-search=\"true\"\n      placeholder=\"Pick some\"\n      label=\"name\"\n      track-by=\"name\"\n      :preselect-first=\"false\"\n      :limit=\"3\"\n      :showLabels=\"true\"\n      class=\"c-multiselect-custom\"\n    >\n      <div\n       slot=\"tag\"\n       slot-scope=\"props\"\n       class=\"c-multiselect-custom__tag\"\n       >\n        <span class=\"c-multiselect-custom__tag-name\">\n          {{ props.option.name }}\n        </span>\n        <span\n          @click=\"props.remove(props.option)\"\n          class=\"c-multiselect-custom__tag-remove\"\n        >\n          &#10005;\n        </span>\n      </div>\n    </multiselect>\n    <!-- <ul><li v-for=\"{ name, i } in value\" :key=\"i\">{{ name }}</li></ul> -->\n  </div>\n</template>\n\n<script>\nimport Multiselect from 'vue-multiselect';\nimport activityList from './activityList.json';\n\nexport default {\n  name: 'ActivitySelect',\n  props: ['getActivities'],\n  components: { Multiselect },\n  data() {\n    return {\n      value: null,\n      options: activityList.activities,\n    };\n  },\n  watch: {\n    value(newData) {\n      const a = newData.map(s => s.name);\n      this.$emit('getActivities', a);\n    },\n  },\n};\n</script>\n\n<style src=\"vue-multiselect/dist/vue-multiselect.min.css\"></style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ActivitySelect.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{staticClass:\"c-label\"},[_vm._v(\"Activities\")]),_vm._v(\" \"),_c('multiselect',{staticClass:\"c-multiselect-custom\",attrs:{\"options\":_vm.options,\"multiple\":true,\"close-on-select\":true,\"clear-on-select\":true,\"hide-selected\":false,\"preserve-search\":true,\"placeholder\":\"Pick some\",\"label\":\"name\",\"track-by\":\"name\",\"preselect-first\":false,\"limit\":3,\"showLabels\":true},scopedSlots:_vm._u([{key:\"tag\",fn:function(props){return _c('div',{staticClass:\"c-multiselect-custom__tag\"},[_c('span',{staticClass:\"c-multiselect-custom__tag-name\"},[_vm._v(\"\\n        \"+_vm._s(props.option.name)+\"\\n      \")]),_vm._v(\" \"),_c('span',{staticClass:\"c-multiselect-custom__tag-remove\",on:{\"click\":function($event){props.remove(props.option)}}},[_vm._v(\"\\n        ✕\\n      \")])])}}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-625bdd59\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ActivitySelect.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-625bdd59\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!vue-multiselect/dist/vue-multiselect.min.css\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ActivitySelect.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ActivitySelect.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-625bdd59\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ActivitySelect.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ActivitySelect.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c-accordion\"},[_c('button',{staticClass:\"c-accordion__btn\",class:{'is-active': _vm.isOpen},on:{\"click\":function($event){$event.preventDefault();_vm.isOpen = !_vm.isOpen}}},[_vm._v(\"\\n    \"+_vm._s(_vm.label)+\"\\n  \")]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOpen),expression:\"isOpen\"}],staticClass:\"c-accordion__drawer\",class:{'is-active': _vm.isOpen}},[_vm._t(\"default\")],2)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-533fbb8e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Accordion.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Accordion.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Accordion.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-533fbb8e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Accordion.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Accordion.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"c-accordion\">\n    <button\n      @click.prevent=\"isOpen = !isOpen\"\n      class=\"c-accordion__btn\" :class=\"{'is-active': isOpen}\"\n    >\n      {{label}}\n    </button>\n    <transition name=\"slide\">\n    <div\n      v-show=\"isOpen\"\n      class=\"c-accordion__drawer\"\n      :class=\"{'is-active': isOpen}\"\n    >\n      <slot></slot>\n    </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Accordion',\n  props: ['label'],\n  data() {\n    return {\n      isOpen: false,\n    };\n  },\n  methods: {\n\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Accordion.vue","<template>\n  <div class=\"c-my-finds\">\n    <ul class=\"c-my-finds__list\">\n      <PlaceCard\n        v-for=\"(p, i) in places\"\n        :key=\"i\"\n        @hover=\"highlight(p, p.id, i)\"\n        @loaded=\"imageLoaded(p.id)\"\n        @save=\"savePlace(p)\"\n        @trash=\"deletePlace(p, p.id)\"\n        :user=\"user\"\n        :loading=\"loadingImgs[p.id]\"\n        :icon=\"p.image_url\"\n        :name=\"p.name\"\n        :link=\"p.url\"\n        :users=\"p.users\"\n        :identifier=\"i\"\n      />\n    </ul>\n    <button\n      v-if=\"page >= 1 && !loading\"\n      @click.prevent=\"loadMore\"\n      class=\"c-btn\"\n    >\n      Load More\n    </button>\n    <div v-if=\"page >= 1 && loading\" class=\"spinner\"></div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport PlaceCard from './PlaceCard';\n\nexport default {\n  name: 'Places',\n  props: [\n    'places',\n    'savePlace',\n    'user',\n    'page',\n    'loading',\n    'markers',\n    'map',\n    'infoWindow',\n  ],\n  data() {\n    return {\n      currentlyHighlighted: null,\n      loadingImgs: {},\n    };\n  },\n  methods: {\n    highlight(p, id, idx) {\n      if (this.currentlyHighlighted !== idx) {\n        this.currentlyHighlighted = idx;\n        this.markers.forEach((m) => {\n          if (m.place.id === id) {\n            this.infoWindow.el.open(this.map, m);\n            this.infoWindow.content = p;\n          }\n        });\n      }\n    },\n    async deletePlace(place, id) {\n      try {\n        const getKey = await axios.get('/placeKeyById', {\n          params: {\n            placeId: id,\n          },\n        });\n        const key = getKey.data;\n        this.$emit('deletePlace', place, key);\n        return key;\n      } catch (e) {\n        console.log(e);\n        return e;\n      }\n    },\n    loadMore() {\n      this.$emit('getPlaces');\n    },\n    imageLoaded(id) {\n      this.$set(this.loadingImgs, id, false);\n    },\n  },\n  watch: {\n    places(list) {\n      const keys = Object.keys(this.loadingImgs);\n      // eslint-disable-next-line\n      list.map((p) => {\n        if (!keys.includes(p.id)) {\n          this.$set(this.loadingImgs, p.id, true);\n        }\n      });\n    },\n  },\n  components: { PlaceCard },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Places.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c-my-finds\"},[_c('ul',{staticClass:\"c-my-finds__list\"},_vm._l((_vm.places),function(p,i){return _c('PlaceCard',{key:i,attrs:{\"user\":_vm.user,\"loading\":_vm.loadingImgs[p.id],\"icon\":p.image_url,\"name\":p.name,\"link\":p.url,\"users\":p.users,\"identifier\":i},on:{\"hover\":function($event){_vm.highlight(p, p.id, i)},\"loaded\":function($event){_vm.imageLoaded(p.id)},\"save\":function($event){_vm.savePlace(p)},\"trash\":function($event){_vm.deletePlace(p, p.id)}}})})),_vm._v(\" \"),(_vm.page >= 1 && !_vm.loading)?_c('button',{staticClass:\"c-btn\",on:{\"click\":function($event){$event.preventDefault();return _vm.loadMore($event)}}},[_vm._v(\"\\n    Load More\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.page >= 1 && _vm.loading)?_c('div',{staticClass:\"spinner\"}):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c351e516\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Places.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <Accordion label=\"Filter\">\n      <ActivitySelect\n        @getActivities=\"getActivities\"\n      />\n      <div>\n        <label class=\"c-label\">Order</label>\n        <select v-model=\"sortBy\" class=\"c-select\">\n          <option value=\"distance\">Distance</option>\n          <option value=\"best_match\">Best Match</option>\n          <option value=\"rating\">Rating</option>\n          <option value=\"review_count\">Review Count</option>\n        </select>\n      </div>\n    </Accordion>\n    <div class=\"u-txt-center\">\n      <div v-if=\"searching\" class=\"spinner\"></div>\n      <button\n        v-else\n        :disabled=\"searching\"\n        @click.prevent=\"search\"\n        class=\"c-btn\"\n      >\n        Search\n      </button>\n    </div>\n    <Places\n      v-if=\"places\"\n      :places=\"places\"\n      :savePlace=\"savePlace\"\n      :user=\"user\"\n      :page=\"page\"\n      @getPlaces=\"getPlaces\"\n      @deletePlace=\"deletePlace\"\n      :loading=\"searching\"\n      :markers=\"markers\"\n      :map=\"map\"\n      :infoWindow=\"infoWindow\"\n    />\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nimport { db } from '../firebase';\nimport axios from 'axios'\nimport ActivitySelect from './ActivitySelect';\nimport Accordion from './Accordion'\nimport Places from './Places'\n\nexport default {\n  name: 'FindPlaces',\n  props: [\n    'infoWindow',\n    'radius',\n    'map',\n    'savePlace',\n    'user',\n    'markers'\n  ],\n  data() {\n    return {\n      page: 0,\n      places: [],\n      selected: [],\n      searching: false,\n      places: null,\n      sortBy: 'best_match'\n    };\n  },\n\n  methods: {\n    deletePlace(place, key) {\n      db.ref('finds/' + key)\n        .child('users')\n        .child(this.user.uid).remove()\n        .then(() => {\n          console.log('Remove succeeded.');\n        })\n        .catch((error) => {\n          console.log('Remove failed: ', error.message);\n        });\n      db.ref('users/' + this.user.uid)\n        .child('saved/' + key)\n        .set(false)\n        .then(() => {\n          console.log('Remove succeeded.');\n        })\n        .catch((error) => {\n          console.log('Remove failed: ', error.message);\n        });\n      this.$delete(place.users, this.user.uid)\n      this.$set(this.user.saved, key, false)\n      const m = this.$utils.newMarker(\n        place,\n        place.users,\n        this.map,\n        this.infoWindow,\n        this.markers\n      )\n      this.$emit('createMarker', m)\n    },\n    async getPlaces() {\n      this.searching = true\n      if (this.page === 0) this.places = []\n      const list = await this.buildList()\n      this.places.push(...list)\n      this.placeYelpMarkers()\n      if (this.places.length >= 25) this.page += 1\n      this.searching = false\n    },\n    async search() {\n      this.page = 0\n      await this.getPlaces()\n    },\n    async buildList () {\n      let places = []\n      const lastStatus = null;\n      if (this.selected.length > 0) {\n        for (const s of this.selected) {\n          const results = await this.getYelpPlaces(s, this.radius, this.sortBy);\n          places.push(...results);\n        }\n      } else {\n        const results = await this.getYelpPlaces(null, this.radius, this.sortBy);\n        places.push(...results);\n      }\n      return this.getUsers(places)\n    },\n    async getYelpPlaces (term, radius, sortBy) {\n      const mapLat = await this.map.center.lat();\n      const mapLng = await this.map.center.lng();\n      try {\n        const response = await axios.get('/getYelpResults', {\n          params: {\n            lat: mapLat,\n            lng: mapLng,\n            offset: this.page * 25,\n            term: term,\n            radius: radius,\n            sortBy: sortBy\n          }\n        })\n        const list = response.data\n        return list\n      } catch (e) {\n        console.log(e)\n      }\n    },\n    async getUsers(places) {\n      const ids = places.map(p => p.id)\n      try {\n        const res = await axios.get('/getPlaceUsers', {\n          params: {\n            places: ids\n          }\n        })\n        const users = res.data\n        const placesWithUsers = places.map((place, i) => {\n          place.users = users[i]\n          return place\n        });\n        return placesWithUsers\n      } catch (e) {\n        console.log(e)\n        return e\n      }\n    },\n    async placeYelpMarkers() {\n      const vm = this\n      this.$emit('clearMarkers')\n      for (let i = 0; i < this.places.length; i++) {\n        const m = this.$utils.newMarker(\n          this.places[i],\n          this.places[i].users,\n          this.map,\n          this.infoWindow,\n          this.markers\n        )\n        this.$emit('createMarker', m)\n      }\n    },\n    getActivities(activities) {\n      this.selected = activities;\n    },\n  },\n  watch: {\n    selected(){\n      this.page = 0\n    },\n  },\n  components: {Accordion, ActivitySelect, Places}\n};\n</script>\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/FindPlaces.vue","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Places.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Places.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c351e516\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Places.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Places.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Accordion',{attrs:{\"label\":\"Filter\"}},[_c('ActivitySelect',{on:{\"getActivities\":_vm.getActivities}}),_vm._v(\" \"),_c('div',[_c('label',{staticClass:\"c-label\"},[_vm._v(\"Order\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sortBy),expression:\"sortBy\"}],staticClass:\"c-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.sortBy=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"distance\"}},[_vm._v(\"Distance\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"best_match\"}},[_vm._v(\"Best Match\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"rating\"}},[_vm._v(\"Rating\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"review_count\"}},[_vm._v(\"Review Count\")])])])],1),_vm._v(\" \"),_c('div',{staticClass:\"u-txt-center\"},[(_vm.searching)?_c('div',{staticClass:\"spinner\"}):_c('button',{staticClass:\"c-btn\",attrs:{\"disabled\":_vm.searching},on:{\"click\":function($event){$event.preventDefault();return _vm.search($event)}}},[_vm._v(\"\\n      Search\\n    \")])]),_vm._v(\" \"),(_vm.places)?_c('Places',{attrs:{\"places\":_vm.places,\"savePlace\":_vm.savePlace,\"user\":_vm.user,\"page\":_vm.page,\"loading\":_vm.searching,\"markers\":_vm.markers,\"map\":_vm.map,\"infoWindow\":_vm.infoWindow},on:{\"getPlaces\":_vm.getPlaces,\"deletePlace\":_vm.deletePlace}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a83060d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/FindPlaces.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FindPlaces.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FindPlaces.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a83060d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./FindPlaces.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/FindPlaces.vue\n// module id = null\n// module chunks = ","module.exports = {\"activities\":[{\"name\":\"park\"},{\"name\":\"music\"},{\"name\":\"cycling\"},{\"name\":\"pub\"},{\"name\":\"food\"},{\"name\":\"shopping\"},{\"name\":\"movies\"},{\"name\":\"bouldering\"},{\"name\":\"snowboarding\"},{\"name\":\"climbing\"},{\"name\":\"skatehboardng\"},{\"name\":\"surfing\"}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/activityList.json\n// module id = H+ap\n// module chunks = 1","module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzEiIGhlaWdodD0iNDMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTUuNSA0Mi4yNTNsMTIuMDYzLTkuMjQ4YTcuNSA3LjUgMCAwIDAgMi45MzctNS45NTJWOEE3LjUgNy41IDAgMCAwIDIzIC41SDhBNy41IDcuNSAwIDAgMCAuNSA4djE5LjA1M2E3LjUgNy41IDAgMCAwIDIuOTM3IDUuOTUyTDE1LjUgNDIuMjUzeiIgc3Ryb2tlPSIjNkI2QjZCIiBmaWxsPSIjRkZGIi8+PHBhdGggZD0iTTE1LjUgMzMuODNsLS4zMzUtLjI4M0M3Ljk1NSAyNy41OTcgNiAyNS41IDYgMjIuMWMwLTIuODMzIDIuMjM1LTUuMSA1LjAzLTUuMSAyLjI5IDAgMy41NzYgMS4zMDMgNC40NyAyLjMyMy44OTQtMS4wMiAyLjE4LTIuMzIzIDQuNDctMi4zMjMgMi43OTUgMCA1LjAzIDIuMjY3IDUuMDMgNS4xIDAgMy40LTEuOTU2IDUuNDk3LTkuMTY1IDExLjQ0N2wtLjMzNS4yODN6IiBmaWxsPSIjRkY2RjZGIi8+PHBhdGggZD0iTTE1LjUgMzMuODNsLS4zMzUtLjI4M0M3Ljk1NSAyNy41OTcgNiAyNS41IDYgMjIuMWMwLTIuODMzIDIuMjM1LTUuMSA1LjAzLTUuMSAyLjI5IDAgMy41NzYgMS4zMDMgNC40NyAyLjMyMy44OTQtMS4wMiAyLjE4LTIuMzIzIDQuNDctMi4zMjMgMi43OTUgMCA1LjAzIDIuMjY3IDUuMDMgNS4xIDAgMy40LTEuOTU2IDUuNDk3LTkuMTY1IDExLjQ0N2wtLjMzNS4yODN6bS00LjQ3LTE1LjY5N2MtMi4xOCAwLTMuOTEyIDEuNzU3LTMuOTEyIDMuOTY3IDAgMi44OSAxLjc4OCA0LjgxNyA4LjM4MiAxMC4yNTcgNi41OTQtNS40NCA4LjM4Mi03LjM2NyA4LjM4Mi0xMC4yNTcgMC0yLjIxLTEuNzMyLTMuOTY3LTMuOTExLTMuOTY3LTEuOTU2IDAtMy4wMTggMS4xOS0zLjg1NiAyLjE1NGwtLjYxNS43MzYtLjYxNS0uNzM2Yy0uODM4LS45NjQtMS45LTIuMTU0LTMuODU2LTIuMTU0eiIgZmlsbD0iIzZCNkI2QiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9nPjwvc3ZnPgo=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/full-heart.svg\n// module id = KKye\n// module chunks = 1","import fullHeart from './assets/full-heart.svg';\nimport emptyHeart from './assets/empty-heart.svg';\n\nconst utils = {\n  generateId() {\n    return (Date.now().toString(36) + Math.random().toString(36).substr(2, 5)).toUpperCase();\n  },\n  newMarker(p, users, map, iw, markers) {\n    let marker;\n    const userCount = users ? Object.keys(users).length : 0;\n    const markerCount = markers ? markers.length : 0;\n    const place = p.place ? p.place : p;\n    const lat = p.place ? p.place.pos.lat : p.coordinates.latitude;\n    const lng = p.place ? p.place.pos.lng : p.coordinates.longitude;\n    const labelContent = userCount ? String(userCount) : '0';\n    const icon = (userCount >= 1) ? fullHeart : emptyHeart;\n    const zIndex = markerCount && (markerCount <= 0) ? 1 : markerCount * 2;\n    gm.load(async (google) => {\n      const MarkerWithLabel = require('markerwithlabel')(google.maps); // eslint-disable-line global-require\n      marker = new MarkerWithLabel({\n        position: { lat, lng },\n        labelContent,\n        icon,\n        map,\n        zIndex,\n        labelAnchor: new google.maps.Point(15.5, 42),\n        labelClass: 'marker-label',\n      });\n      marker.place = place;\n      google.maps.event.addListener(marker, 'click', function markerClick() {\n        iw.el.open(map, this);\n        iw.content = place; // eslint-disable-line no-param-reassign\n      });\n    });\n    return marker;\n  },\n  calcPrimeLocation(data) {\n    if (!(data.length > 0)) {\n      return false;\n    }\n\n    const numCoords = data.length;\n\n    let X = 0.0;\n    let Y = 0.0;\n    let Z = 0.0;\n\n    for (let i = 0; i < data.length; i += 1) {\n      const lat = ((data[i][0] * Math.PI) / 180);\n      const lon = ((data[i][1] * Math.PI) / 180);\n\n      const a = Math.cos(lat) * Math.cos(lon);\n      const b = Math.cos(lat) * Math.sin(lon);\n      const c = Math.sin(lat);\n\n      X += a;\n      Y += b;\n      Z += c;\n    }\n\n    X /= numCoords;\n    Y /= numCoords;\n    Z /= numCoords;\n\n    const lon = Math.atan2(Y, X);\n    const hyp = Math.sqrt((X * X) + (Y * Y));\n    const lat = Math.atan2(Z, hyp);\n\n    const newX = ((lat * 180) / Math.PI);\n    const newY = ((lon * 180) / Math.PI);\n\n    return [newX, newY];\n  },\n  pinSymbol(color) {\n    return {\n      url: 'M 0,0 C -2,-20 -10,-22 -10,-30 A 10,10 0 1,1 10,-30 C 10,-22 2,-20 0,0 z',\n      fillColor: color,\n      fillOpacity: 1,\n      scale: 1,\n    };\n  },\n};\nexport default utils;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","import firebase from 'firebase';\nimport 'firebase/auth';\n\nconst firebaseApp = firebase.initializeApp({\n  apiKey: FIREBASE_KEY,\n  authDomain: 'do-more-ecc5c.firebaseapp.com',\n  databaseURL: 'https://do-more-ecc5c.firebaseio.com/',\n  projectId: 'do-more-ecc5c',\n  storageBucket: 'do-more-ecc5c.appspot.com',\n  messagingSenderId: '669577878898',\n});\n\n// eslint-disable-next-line\nexport const db = firebaseApp.database();\n\n\n\n// WEBPACK FOOTER //\n// ./src/firebase.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"o-app\",attrs:{\"id\":\"app\"}},[_c('router-view',{attrs:{\"google\":_vm.google}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-49a56310\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-49a56310\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"o-root\"},[(!_vm.globalMap)?_c('div',{staticClass:\"spinner\"}):_vm._e(),_vm._v(\" \"),(_vm.globalMap)?_c('main',{staticClass:\"o-main\"},[_c('User',{attrs:{\"user\":_vm.user},on:{\"showUserMenu\":function($event){_vm.menu = 3}}}),_vm._v(\" \"),_c('div',{staticClass:\"c-menu\"},[_c('ul',{staticClass:\"c-menu__tabs\"},[_c('li',{staticClass:\"c-menu__tab\"},[_c('button',{staticClass:\"c-menu__tab-btn\",class:{' c-menu__tab-btn--is-active': _vm.menu === 0},on:{\"click\":function($event){_vm.menu = 0}}},[_vm._v(\"\\n            Discover\\n          \")])]),_vm._v(\" \"),_c('li',{staticClass:\"c-menu__tab\"},[_c('button',{staticClass:\"c-menu__tab-btn\",class:{' c-menu__tab-btn--is-active': _vm.menu === 2},attrs:{\"disabled\":!_vm.user},on:{\"click\":function($event){_vm.menu = 2}}},[_vm._v(\"\\n            Hot\\n          \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"c-menu__cont\"},[_c('LocationSearch',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menu === 0),expression:\"menu === 0\"}],staticClass:\"c-form__item\",attrs:{\"map\":_vm.globalMap,\"google\":_vm.google}}),_vm._v(\" \"),_c('FindPlaces',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menu === 0),expression:\"menu === 0\"}],attrs:{\"user\":_vm.user,\"map\":_vm.globalMap,\"radius\":_vm.radius,\"infoWindow\":_vm.infoWindow,\"savePlace\":_vm.savePlace,\"markers\":_vm.globalMarkers},on:{\"emitMarkers\":_vm.updateMarkers,\"clearMarkers\":_vm.clearMarkers,\"createMarker\":_vm.createMarker}}),_vm._v(\" \"),(_vm.menu === 2)?_c('HotList',{attrs:{\"user\":_vm.user,\"map\":_vm.globalMap,\"infoWindow\":_vm.infoWindow,\"markers\":_vm.globalMarkers},on:{\"panToPlace\":_vm.panToPlace,\"savePlace\":_vm.savePlace,\"createMarker\":_vm.createMarker}}):_vm._e(),_vm._v(\" \"),(_vm.user && _vm.menu === 3)?_c('MyFinds',{attrs:{\"map\":_vm.globalMap,\"user\":_vm.user,\"infoWindow\":_vm.infoWindow,\"markers\":_vm.globalMarkers},on:{\"panToPlace\":_vm.panToPlace,\"createMarker\":_vm.createMarker}}):_vm._e()],1)])],1):_vm._e(),_vm._v(\" \"),(_vm.google)?_c('aside',{staticClass:\"o-aside\"},[_c('Map',{attrs:{\"markers\":_vm.globalMarkers,\"infoWindow\":_vm.infoWindow,\"google\":_vm.google},on:{\"emitMap\":_vm.updateMap}})],1):_vm._e(),_vm._v(\" \"),_c('InfoWindow',{ref:\"infoW\",attrs:{\"place\":_vm.infoWindow.content,\"savePlace\":_vm.savePlace}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f6277af\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Initial.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Initial.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Initial.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f6277af\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Initial.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Initial.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport Router from 'vue-router';\nimport Initial from '@/components/Initial';\n\nVue.use(Router);\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Initial',\n      component: Initial,\n    },\n  ],\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport VueFire from 'vuefire';\nimport App from './App';\nimport router from './router';\nimport './firebase';\nimport './assets/styles/main.scss';\nimport utils from './utils';\n\nconst plugin = {\n  install() {\n    Vue.utils = utils;\n    Vue.prototype.$utils = utils;\n  },\n};\n\nVue.use(plugin);\nVue.use(VueFire);\nVue.config.productionTip = false;\n\n// eslint-disable-next-line\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>',\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <li class=\"c-my-find\" @mouseover=\"mouseover\">\n    <div class=\"c-my-find__cont\">\n      <div\n        class=\"c-my-find__img-container\"\n        :class=\"{'is-loading': loading}\"\n      >\n        <img\n          v-show=\"!loading\"\n          class=\"c-my-find__img\"\n          :src=\"icon\"\n          @load=\"loaded\"\n          alt=\"place-photo\"/>\n      </div>\n      <div class=\"c-my-find__details\">\n        <div class=\"c-my-find__name\">{{name}}</div>\n        <div v-if=\"city || country\" class=\"c-my-find__loc\">{{city}}, {{country}}</div>\n        <template v-if=\"users\">\n          <div v-for=\"(u, i) in users\" :key=\"i\">\n            <div\n              class=\"c-my-find__user-icon\"\n              :title=\"u.displayName\"\n              :style=\"{ 'background-image': 'url(' + u.photoURL + ')' }\">\n            </div>\n          </div>\n        </template>\n      </div>\n      <ul class=\"c-my-find__btns\">\n        <li class=\"c-my-find__btn\">\n          <button\n            class=\"c-btn c-btn--naked\"\n            @click.prevent=\"panToPlace\">\n            Go to\n          </button>\n        </li>\n        <li class=\"c-my-find__btn\">\n          <a\n            :href=\"link\"\n            target=\"_blank\"\n            class=\"c-btn c-btn--naked\">\n            Link\n          </a>\n        </li>\n        <li  class=\"c-my-find__btn\">\n          <button\n            v-if=\"isSaved\"\n            class=\"c-btn c-btn--naked\"\n            @click.prevent=\"trash\">\n            Unsave\n          </button>\n          <button\n            v-else\n            :disabled=\"!user\"\n            class=\"c-btn c-btn--naked\"\n            @click.prevent=\"save()\">\n            Save\n          </button>\n        </li>\n      </ul>\n    </div>\n  </li>\n</template>\n\n<script>\n\nexport default {\n  name: 'PlaceCard',\n  props: [\n    'user',\n    'loading',\n    'icon',\n    'name',\n    'city',\n    'link',\n    'country',\n    'users',\n    'identifier',\n  ],\n  data() {\n    return {};\n  },\n  methods: {\n    loaded() {\n      this.$emit('loaded');\n    },\n    save() {\n      this.$emit('save');\n    },\n    async trash() {\n      this.$emit('trash');\n    },\n    mouseover() {\n      this.$emit('hover');\n    },\n    panToPlace() {\n      this.$emit('panToPlace');\n    },\n  },\n  watch: { },\n  computed: {\n    isSaved() {\n      return this.users && this.users[this.user.uid];\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/PlaceCard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"c-my-find\",on:{\"mouseover\":_vm.mouseover}},[_c('div',{staticClass:\"c-my-find__cont\"},[_c('div',{staticClass:\"c-my-find__img-container\",class:{'is-loading': _vm.loading}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}],staticClass:\"c-my-find__img\",attrs:{\"src\":_vm.icon,\"alt\":\"place-photo\"},on:{\"load\":_vm.loaded}})]),_vm._v(\" \"),_c('div',{staticClass:\"c-my-find__details\"},[_c('div',{staticClass:\"c-my-find__name\"},[_vm._v(_vm._s(_vm.name))]),_vm._v(\" \"),(_vm.city || _vm.country)?_c('div',{staticClass:\"c-my-find__loc\"},[_vm._v(_vm._s(_vm.city)+\", \"+_vm._s(_vm.country))]):_vm._e(),_vm._v(\" \"),(_vm.users)?_vm._l((_vm.users),function(u,i){return _c('div',{key:i},[_c('div',{staticClass:\"c-my-find__user-icon\",style:({ 'background-image': 'url(' + u.photoURL + ')' }),attrs:{\"title\":u.displayName}})])}):_vm._e()],2),_vm._v(\" \"),_c('ul',{staticClass:\"c-my-find__btns\"},[_c('li',{staticClass:\"c-my-find__btn\"},[_c('button',{staticClass:\"c-btn c-btn--naked\",on:{\"click\":function($event){$event.preventDefault();return _vm.panToPlace($event)}}},[_vm._v(\"\\n          Go to\\n        \")])]),_vm._v(\" \"),_c('li',{staticClass:\"c-my-find__btn\"},[_c('a',{staticClass:\"c-btn c-btn--naked\",attrs:{\"href\":_vm.link,\"target\":\"_blank\"}},[_vm._v(\"\\n          Link\\n        \")])]),_vm._v(\" \"),_c('li',{staticClass:\"c-my-find__btn\"},[(_vm.isSaved)?_c('button',{staticClass:\"c-btn c-btn--naked\",on:{\"click\":function($event){$event.preventDefault();return _vm.trash($event)}}},[_vm._v(\"\\n          Unsave\\n        \")]):_c('button',{staticClass:\"c-btn c-btn--naked\",attrs:{\"disabled\":!_vm.user},on:{\"click\":function($event){$event.preventDefault();_vm.save()}}},[_vm._v(\"\\n          Save\\n        \")])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-51dbfc2e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/PlaceCard.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PlaceCard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PlaceCard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-51dbfc2e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PlaceCard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PlaceCard.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"c-my-finds\">\n    <div class=\"c-my-finds__title\">\n      <p>Popular places being shared</p>\n    </div>\n    <div v-if=\"loading\" class=\"spinner\"></div>\n    <ul v-else class=\"c-my-finds__list\">\n      <PlaceCard\n        v-for=\"(g, i) in sortedFinds\"\n        :key=\"i\"\n        @loaded=\"imageLoaded(g.place.id)\"\n        @save=\"savePlace(g)\"\n        @trash=\"deletePlace(g, g['.key'])\"\n        @panToPlace=\"panToPlace(g)\"\n        :user=\"user\"\n        :loading=\"loadingImgs[g.place.id]\"\n        :icon=\"g.place.image_url\"\n        :name=\"g.place.name\"\n        :city=\"g.place.city\"\n        :link=\"g.place.link\"\n        :country=\"g.place.country\"\n        :users=\"g.users\"\n        :identifier=\"i\"\n      />\n    </ul>\n  </div>\n</template>\n\n<script>\nimport { db } from '../firebase';\nimport PlaceCard from './PlaceCard';\n\nexport default {\n  name: 'HotList',\n  props: ['user', 'map', 'markers', 'infoWindow'],\n  data() {\n    return {\n      loading: false,\n      finds: [],\n      loadingImgs: {},\n    };\n  },\n  async mounted() {\n    await this.getfinds();\n  },\n  methods: {\n    async savePlace(p) {\n      this.$emit('savePlace', p);\n    },\n    async getfinds() {\n      this.loading = true;\n      this.$bindAsArray('finds', db.ref('finds'), null, () => { this.loading = false; });\n    },\n    imageLoaded(id) {\n      this.$set(this.loadingImgs, id, false);\n    },\n    async deletePlace(place, key) {\n      db.ref(`finds/${key}`)\n        .child('users')\n        .child(this.user.uid).remove()\n        .then(() => {\n          console.log('Remove succeeded.');\n        })\n        .catch((error) => {\n          console.log('Remove failed: ', error.message);\n        });\n      db.ref(`users/${this.user.uid}`)\n        .child(`saved/${key}`)\n        .set(false)\n        .then(() => {\n          console.log('Remove succeeded.');\n        })\n        .catch((error) => {\n          console.log('Remove failed: ', error.message);\n        });\n      this.$delete(place.users, this.user.uid);\n      this.$set(this.user.saved, key, false);\n      const m = this.$utils.newMarker(\n        place,\n        place.users,\n        this.map,\n        this.infoWindow,\n        this.markers,\n      );\n      this.$emit('createMarker', m);\n    },\n    panToPlace(p) {\n      this.$emit('panToPlace', p);\n    },\n  },\n  watch: {\n    finds(list) {\n      const keys = Object.keys(this.loadingImgs);\n      // eslint-disable-next-line\n      list.map((g) => {\n        if (!keys.includes(g.place.id)) {\n          this.$set(this.loadingImgs, g.place.id, true);\n        }\n      });\n    },\n  },\n  computed: {\n    sortedFinds() {\n      return this.finds.slice(0).sort((a, b) => {\n        const aUsers = a.users ? Object.keys(a.users).length : 0;\n        const bUsers = b.users ? Object.keys(b.users).length : 0;\n        const value = (aUsers < bUsers) ? 1 : -1;\n        return value;\n      });\n    },\n  },\n  components: {\n    PlaceCard,\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HotList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c-my-finds\"},[_vm._m(0),_vm._v(\" \"),(_vm.loading)?_c('div',{staticClass:\"spinner\"}):_c('ul',{staticClass:\"c-my-finds__list\"},_vm._l((_vm.sortedFinds),function(g,i){return _c('PlaceCard',{key:i,attrs:{\"user\":_vm.user,\"loading\":_vm.loadingImgs[g.place.id],\"icon\":g.place.image_url,\"name\":g.place.name,\"city\":g.place.city,\"link\":g.place.link,\"country\":g.place.country,\"users\":g.users,\"identifier\":i},on:{\"loaded\":function($event){_vm.imageLoaded(g.place.id)},\"save\":function($event){_vm.savePlace(g)},\"trash\":function($event){_vm.deletePlace(g, g['.key'])},\"panToPlace\":function($event){_vm.panToPlace(g)}}})}))])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c-my-finds__title\"},[_c('p',[_vm._v(\"Popular places being shared\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5d59a76c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HotList.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HotList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HotList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5d59a76c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HotList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HotList.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"c-info-window\">\n    <template v-if=\"place\">\n      <div\n        class=\"c-info-window__img-container\"\n        :class=\"{'is-loading': loading}\"\n      >\n        <img\n          v-show=\"!loading\"\n          class=\"c-info-window__img\"\n          :src=\"place.image_url\"\n          @load=\"loading = false\"\n          alt=\"place-photo\"/>\n      </div>\n      <b class=\"c-info-window__title\">{{place.name}}</b>\n      <div class=\"c-info-window__shares\">\n        Shared by:\n        <div v-if=\"place.users\" v-for=\"(u, i) in place.users\" :key=\"i\">\n          {{u.displayName}}\n        </div>\n      </div>\n      <ul class=\"c-info-window__links\">\n        <li class=\"c-info-window__link\">\n          <a class=\"c-btn c-btn--naked\" :href=\"place.url\" target=\"_blank\">\n            Link\n          </a>\n        </li>\n        <li class=\"c-info-window__link\">\n          <button class=\"c-btn c-btn--naked\" @click.prevent=\"savePlace(place)\">\n            Save\n          </button>\n        </li>\n      </ul>\n    </template>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nexport default {\n  name: 'InfoWindow',\n  props: ['place', 'savePlace', 'itineraries'],\n  data() {\n    return {\n      itinerary: null,\n      loading: true,\n    }\n  },\n  computed: {\n    id() {\n      if (this.place) return this.place.id\n    }\n  },\n  watch: {\n    itineraries() {\n      if (this.itineraries.length) {\n        this.itinerary = this.itineraries[0]['.key']\n      }\n    },\n    id() {\n      this.loading = true\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n  .iw {\n    max-width: 10rem;\n  }\n</style>\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/InfoWindow.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c-info-window\"},[(_vm.place)?[_c('div',{staticClass:\"c-info-window__img-container\",class:{'is-loading': _vm.loading}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}],staticClass:\"c-info-window__img\",attrs:{\"src\":_vm.place.image_url,\"alt\":\"place-photo\"},on:{\"load\":function($event){_vm.loading = false}}})]),_vm._v(\" \"),_c('b',{staticClass:\"c-info-window__title\"},[_vm._v(_vm._s(_vm.place.name))]),_vm._v(\" \"),_c('div',{staticClass:\"c-info-window__shares\"},[_vm._v(\"\\n      Shared by:\\n      \"),_vm._l((_vm.place.users),function(u,i){return (_vm.place.users)?_c('div',{key:i},[_vm._v(\"\\n        \"+_vm._s(u.displayName)+\"\\n      \")]):_vm._e()})],2),_vm._v(\" \"),_c('ul',{staticClass:\"c-info-window__links\"},[_c('li',{staticClass:\"c-info-window__link\"},[_c('a',{staticClass:\"c-btn c-btn--naked\",attrs:{\"href\":_vm.place.url,\"target\":\"_blank\"}},[_vm._v(\"\\n          Link\\n        \")])]),_vm._v(\" \"),_c('li',{staticClass:\"c-info-window__link\"},[_c('button',{staticClass:\"c-btn c-btn--naked\",on:{\"click\":function($event){$event.preventDefault();_vm.savePlace(_vm.place)}}},[_vm._v(\"\\n          Save\\n        \")])])])]:_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cc2ebfd0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/InfoWindow.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cc2ebfd0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./InfoWindow.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./InfoWindow.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./InfoWindow.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cc2ebfd0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./InfoWindow.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cc2ebfd0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/InfoWindow.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"c-my-finds\">\n    <div class=\"c-my-finds__title\">\n      <p>Places you have discovered</p>\n    </div>\n    <div v-if=\"loading\" class=\"spinner\"></div>\n    <ul v-else class=\"c-my-finds__list\">\n      <PlaceCard\n        v-for=\"(g, k) in finds\"\n        :key=\"k\"\n        @loaded=\"imageLoaded(k)\"\n        @trash=\"deletePlace(g, k)\"\n        @panToPlace=\"panToPlace(g)\"\n        :user=\"user\"\n        :loading=\"loadingImgs[k]\"\n        :icon=\"g.place.image_url\"\n        :name=\"g.place.name\"\n        :city=\"g.place.city\"\n        :link=\"g.place.link\"\n        :country=\"g.place.country\"\n        :users=\"g.users\"\n        :identifier=\"k\"\n      />\n    </ul>\n  </div>\n</template>\n\n<script>\nimport { db } from '../firebase';\nimport PlaceCard from './PlaceCard';\n\nexport default {\n  name: 'Myfinds',\n  props: ['user', 'markers', 'map', 'infoWindow'],\n  data() {\n    return {\n      loading: false,\n      deleting: null,\n      loadingImgs: {},\n      finds: {},\n    };\n  },\n  async mounted() {\n    await this.getfinds();\n  },\n  methods: {\n    async getfinds() {\n      this.loading = true;\n      const keys = Object.keys(this.user.saved);\n      const array = keys.filter(key => this.user.saved[key]);\n      const promises = array.map(key =>\n        db.ref(`finds/${key}`).once('value').then((snap) => {\n          if (snap.val()) {\n            this.finds[key] = snap.val();\n            this.$set(this.loadingImgs, key, true);\n          }\n        }),\n      );\n      Promise.all(promises).then(() => {\n        this.loading = false;\n      });\n    },\n    deletePlace(place, key) {\n      db.ref(`finds/${key}`)\n        .child('users')\n        .child(this.user.uid).remove()\n        .then(() => {\n          console.log('Remove succeeded.');\n        })\n        .catch((error) => {\n          console.log('Remove failed: ', error.message);\n        });\n      db.ref(`users/${this.user.uid}`)\n        .child(`saved/${key}`)\n        .set(false)\n        .then(() => {\n          console.log('Remove succeeded.');\n        })\n        .catch((error) => {\n          console.log('Remove failed: ', error.message);\n        });\n      this.$delete(place.users, this.user.uid);\n      this.$set(this.user.saved, key, false);\n      const m = this.$utils.newMarker(\n        place,\n        place.users,\n        this.map,\n        this.infoWindow,\n        this.markers,\n      );\n      this.$emit('createMarker', m);\n      this.$delete(this.finds, key);\n    },\n    imageLoaded(key) {\n      this.$set(this.loadingImgs, key, false);\n    },\n    panToPlace(p) {\n      this.$emit('panToPlace', p);\n    },\n  },\n  components: { PlaceCard },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MyFinds.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c-my-finds\"},[_vm._m(0),_vm._v(\" \"),(_vm.loading)?_c('div',{staticClass:\"spinner\"}):_c('ul',{staticClass:\"c-my-finds__list\"},_vm._l((_vm.finds),function(g,k){return _c('PlaceCard',{key:k,attrs:{\"user\":_vm.user,\"loading\":_vm.loadingImgs[k],\"icon\":g.place.image_url,\"name\":g.place.name,\"city\":g.place.city,\"link\":g.place.link,\"country\":g.place.country,\"users\":g.users,\"identifier\":k},on:{\"loaded\":function($event){_vm.imageLoaded(k)},\"trash\":function($event){_vm.deletePlace(g, k)},\"panToPlace\":function($event){_vm.panToPlace(g)}}})}))])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c-my-finds__title\"},[_c('p',[_vm._v(\"Places you have discovered\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-09c90a92\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MyFinds.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MyFinds.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MyFinds.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-09c90a92\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MyFinds.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MyFinds.vue\n// module id = null\n// module chunks = ","module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzEiIGhlaWdodD0iNDMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTUuNSA0Mi4yNTNsMTIuMDYzLTkuMjQ4YTcuNSA3LjUgMCAwIDAgMi45MzctNS45NTJWOEE3LjUgNy41IDAgMCAwIDIzIC41SDhBNy41IDcuNSAwIDAgMCAuNSA4djE5LjA1M2E3LjUgNy41IDAgMCAwIDIuOTM3IDUuOTUyTDE1LjUgNDIuMjUzeiIgc3Ryb2tlPSIjNkI2QjZCIiBmaWxsPSIjRkZGIi8+PHBhdGggZD0iTTE1LjUgMzMuODNsLS4zMzUtLjI4M0M3Ljk1NSAyNy41OTcgNiAyNS41IDYgMjIuMWMwLTIuODMzIDIuMjM1LTUuMSA1LjAzLTUuMSAyLjI5IDAgMy41NzYgMS4zMDMgNC40NyAyLjMyMy44OTQtMS4wMiAyLjE4LTIuMzIzIDQuNDctMi4zMjMgMi43OTUgMCA1LjAzIDIuMjY3IDUuMDMgNS4xIDAgMy40LTEuOTU2IDUuNDk3LTkuMTY1IDExLjQ0N2wtLjMzNS4yODN6IiBmaWxsPSIjRDdEN0Q3Ii8+PHBhdGggZD0iTTE1LjUgMzMuODNsLS4zMzUtLjI4M0M3Ljk1NSAyNy41OTcgNiAyNS41IDYgMjIuMWMwLTIuODMzIDIuMjM1LTUuMSA1LjAzLTUuMSAyLjI5IDAgMy41NzYgMS4zMDMgNC40NyAyLjMyMy44OTQtMS4wMiAyLjE4LTIuMzIzIDQuNDctMi4zMjMgMi43OTUgMCA1LjAzIDIuMjY3IDUuMDMgNS4xIDAgMy40LTEuOTU2IDUuNDk3LTkuMTY1IDExLjQ0N2wtLjMzNS4yODN6bS00LjQ3LTE1LjY5N2MtMi4xOCAwLTMuOTEyIDEuNzU3LTMuOTEyIDMuOTY3IDAgMi44OSAxLjc4OCA0LjgxNyA4LjM4MiAxMC4yNTcgNi41OTQtNS40NCA4LjM4Mi03LjM2NyA4LjM4Mi0xMC4yNTcgMC0yLjIxLTEuNzMyLTMuOTY3LTMuOTExLTMuOTY3LTEuOTU2IDAtMy4wMTggMS4xOS0zLjg1NiAyLjE1NGwtLjYxNS43MzYtLjYxNS0uNzM2Yy0uODM4LS45NjQtMS45LTIuMTU0LTMuODU2LTIuMTU0eiIgZmlsbD0iIzZCNkI2QiIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9nPjwvc3ZnPgo=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/empty-heart.svg\n// module id = fViJ\n// module chunks = 1","<template>\n  <div>\n    <label class=\"c-label\">Location search</label>\n    <span v-show=\"invalidPlace\">Click to search</span>\n    <input class=\"c-text-input\" ref=\"loc\" placeholder=\"Search Location\"/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'LocationSearch',\n  props: ['map', 'places', 'google'],\n  data() {\n    return {\n      invalidPlace: false,\n    };\n  },\n  mounted() {\n    this.initLocationSearch();\n  },\n  methods: {\n    initLocationSearch() {\n      const google = this.google;\n      const input = this.$refs.loc;\n      const autocomplete = new google.maps.places.Autocomplete(input);\n      autocomplete.addListener('place_changed', () => {\n        const place = autocomplete.getPlace();\n        if (place.geometry) {\n          if (place.types.includes('establishment')) {\n            console.log(place);\n          }\n          this.invalidPlace = false;\n          const panPoint = new google.maps.LatLng(\n            place.geometry.location.lat(),\n            place.geometry.location.lng(),\n          );\n          this.map.panTo(panPoint);\n        } else {\n          this.invalidPlace = true;\n        }\n      });\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/LocationSearch.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{staticClass:\"c-label\"},[_vm._v(\"Location search\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.invalidPlace),expression:\"invalidPlace\"}]},[_vm._v(\"Click to search\")]),_vm._v(\" \"),_c('input',{ref:\"loc\",staticClass:\"c-text-input\",attrs:{\"placeholder\":\"Search Location\"}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-18152f0c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/LocationSearch.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LocationSearch.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LocationSearch.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-18152f0c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./LocationSearch.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/LocationSearch.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"c-user\">\n    <template v-if=\"user\">\n      <button\n        @click.prevent=\"showUserMenu\"\n        class=\"c-user__details c-user__details--signed-in\"\n      >\n        <div class=\"c-user__icon\" :style=\"{ 'background-image': 'url(' + user.photoURL + ')' }\">\n        </div>\n        <h2 class=\"c-user__name\">\n          {{user.displayName}}\n        </h2>\n      </button>\n      <button @click.prevent=\"signOut\" class=\"c-btn c-btn--naked\">\n        Sign out\n      </button>\n      <!-- <ul>\n        <li>\n          <a @click.prevent=\"update\" class=\"c-btn c-btn--link\">\n            Update\n          </a>\n        </li>\n      </ul> -->\n    </template>\n    <template v-else>\n      <div class=\"c-user__details\">\n        <h2 class=\"c-user__name\">\n          Guest\n        </h2>\n        <span>Sign in to save places</span>\n      </div>\n      <button @click.prevent=\"signIn\" class=\"c-btn c-btn--naked\">\n        Sign in\n      </button>\n    </template>\n  </div>\n</template>\n\n<script>\nimport firebase from 'firebase/app';\n\nexport default {\n  name: 'User',\n  props: ['user'],\n  data() {\n    return {\n      message: '',\n    };\n  },\n  methods: {\n    userSettings() {\n\n    },\n    signIn() {\n      const provider = new firebase.auth.TwitterAuthProvider();\n      firebase.auth().signInWithRedirect(provider);\n    },\n    signOut() {\n      firebase.auth().signOut().then(() => {\n        console.log('signed out');\n      }).catch((error) => {\n        console.log(error);\n      });\n    },\n    showUserMenu() {\n      this.$emit('showUserMenu');\n    },\n    // update() {\n    //   const vm = this\n    //   this.user.updateProfile({\n    //     displayName: \"Chris Konings\",\n    //   }).then(function() {\n    //     console.log('successfully logged in')\n    //   }).catch(function(error) {\n    //     console.log(error)\n    //   });\n    // }\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/User.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c-user\"},[(_vm.user)?[_c('button',{staticClass:\"c-user__details c-user__details--signed-in\",on:{\"click\":function($event){$event.preventDefault();return _vm.showUserMenu($event)}}},[_c('div',{staticClass:\"c-user__icon\",style:({ 'background-image': 'url(' + _vm.user.photoURL + ')' })}),_vm._v(\" \"),_c('h2',{staticClass:\"c-user__name\"},[_vm._v(\"\\n        \"+_vm._s(_vm.user.displayName)+\"\\n      \")])]),_vm._v(\" \"),_c('button',{staticClass:\"c-btn c-btn--naked\",on:{\"click\":function($event){$event.preventDefault();return _vm.signOut($event)}}},[_vm._v(\"\\n      Sign out\\n    \")])]:[_vm._m(0),_vm._v(\" \"),_c('button',{staticClass:\"c-btn c-btn--naked\",on:{\"click\":function($event){$event.preventDefault();return _vm.signIn($event)}}},[_vm._v(\"\\n      Sign in\\n    \")])]],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c-user__details\"},[_c('h2',{staticClass:\"c-user__name\"},[_vm._v(\"\\n        Guest\\n      \")]),_vm._v(\" \"),_c('span',[_vm._v(\"Sign in to save places\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2db06976\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/User.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./User.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./User.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2db06976\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./User.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/User.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"o-root\">\n    <div v-if=\"!globalMap\" class=\"spinner\"></div>\n    <main class=\"o-main\" v-if=\"globalMap\">\n      <User :user=\"user\" @showUserMenu=\"menu = 3\"/>\n      <!--- user preferences here -->\n      <div class=\"c-menu\">\n        <ul class=\"c-menu__tabs\">\n          <li class=\"c-menu__tab\">\n            <button\n              @click=\"menu = 0\"\n              class=\"c-menu__tab-btn\"\n              :class=\"{' c-menu__tab-btn--is-active': menu === 0}\"\n            >\n              Discover\n            </button>\n          </li>\n          <li class=\"c-menu__tab\">\n            <button\n              :disabled=\"!user\"\n              class=\"c-menu__tab-btn\"\n              @click=\"menu = 2\"\n              :class=\"{' c-menu__tab-btn--is-active': menu === 2}\"\n            >\n              Hot\n            </button>\n          </li>\n        </ul>\n        <div class=\"c-menu__cont\">\n          <LocationSearch\n            class=\"c-form__item\"\n            v-show=\"menu === 0\"\n            :map=\"globalMap\"\n            :google=\"google\"\n          />\n          <FindPlaces\n            v-show=\"menu === 0\"\n            @emitMarkers=\"updateMarkers\"\n            @clearMarkers=\"clearMarkers\"\n            @createMarker=\"createMarker\"\n            :user=\"user\"\n            :map=\"globalMap\"\n            :radius=\"radius\"\n            :infoWindow=\"infoWindow\"\n            :savePlace=\"savePlace\"\n            :markers=\"globalMarkers\"\n          />\n          <HotList\n            v-if=\"menu === 2\"\n            @panToPlace=\"panToPlace\"\n            @savePlace=\"savePlace\"\n            :user=\"user\"\n            :map=\"globalMap\"\n            :infoWindow=\"infoWindow\"\n            :markers=\"globalMarkers\"\n            @createMarker=\"createMarker\"\n          />\n          <MyFinds\n            v-if=\"user && menu === 3\"\n            @panToPlace=\"panToPlace\"\n            @createMarker=\"createMarker\"\n            :map=\"globalMap\"\n            :user=\"user\"\n            :infoWindow=\"infoWindow\"\n            :markers=\"globalMarkers\"\n          />\n        </div>\n      </div>\n    </main>\n    <aside v-if=\"google\" class=\"o-aside\">\n      <Map\n        :markers=\"globalMarkers\"\n        @emitMap=\"updateMap\"\n        :infoWindow=\"infoWindow\"\n        :google=\"google\"\n      />\n    </aside>\n    <InfoWindow\n      ref=\"infoW\"\n      :place=\"infoWindow.content\"\n      :savePlace=\"savePlace\"\n    />\n  </div>\n</template>\n\n<script>\nimport firebase from 'firebase';\nimport Map from './Map';\nimport LocationSearch from './LocationSearch';\nimport FindPlaces from './FindPlaces';\nimport MyFinds from './MyFinds';\nimport HotList from './HotList';\nimport InfoWindow from './InfoWindow';\nimport User from './User';\nimport { db } from '../firebase';\n\nfunction getUser(user) {\n  const userObj = {\n    uid: user.uid,\n    displayName: user.displayName,\n    photoURL: user.photoURL,\n  };\n  // check if user exists in user DB, if it does return it\n  // else set the user in the DB and return\n  return db.ref(`users/${user.uid}`).once('value').then((snap) => {\n    if (snap.val()) {\n      return snap.val();\n    }\n    return db.ref(`users/${user.uid}`).set(userObj, (err) => {\n      if (err) {\n        console.log(err);\n        return err;\n      }\n      return userObj;\n    });\n  });\n}\n\nfunction buildPlaceObj(p, user) {\n  let newPlace = {};\n  if (p.place) {\n    let city = null;\n    let country = null;\n    p.place.address_components.forEach((addr) => {\n      if (addr.types.includes('locality')) {\n        city = addr.short_name;\n      } else if (addr.types.includes('country')) {\n        country = addr.short_name;\n      }\n    });\n    newPlace = {\n      users: {\n        [user.uid]: {\n          id: user.uid,\n          displayName: user.displayName,\n          photoURL: user.photoURL,\n        },\n      },\n      place: {\n        id: p.place.id,\n        name: p.place.name,\n        city,\n        country,\n        pos: {\n          lat: p.place.geometry.location.lat(),\n          lng: p.place.geometry.location.lng(),\n        },\n        image_url: typeof p.place.photos !== 'undefined'\n          ? p.place.photos[0].getUrl({ maxWidth: 100, maxHeight: 100 })\n          : '',\n        link: p.url,\n      },\n    };\n  } else {\n    newPlace = {\n      users: {\n        [user.uid]: {\n          id: user.uid,\n          displayName: user.displayName,\n          photoURL: user.photoURL,\n        },\n      },\n      place: {\n        id: p.id,\n        name: p.name,\n        city: p.location.city,\n        country: p.location.country,\n        pos: {\n          lat: p.coordinates.latitude,\n          lng: p.coordinates.longitude,\n        },\n        image_url: p.image_url,\n        link: p.url,\n      },\n    };\n  }\n  return newPlace;\n}\n\nexport default {\n  name: 'Initial',\n  props: ['google'],\n  data() {\n    return {\n      user: null,\n      menu: 0,\n      infoWindow: {\n        el: null,\n        content: null,\n      },\n      globalMap: null,\n      globalMarkers: [],\n    };\n  },\n  async created() {\n    firebase.auth().onAuthStateChanged((user) => {\n      getUser(user).then((userObj) => { this.user = userObj; });\n    });\n    gm.load((google) => {\n      this.infoWindow.el = new google.maps.InfoWindow({\n        content: this.$refs.infoW.$el,\n      });\n    });\n  },\n  methods: {\n    createMarker(marker) {\n      this.globalMarkers.push(marker);\n    },\n    async clearMarkers() {\n      // To do - only remove markers not found in list of places\n      return new Promise((success) => {\n        for (let i = 0; i < this.globalMarkers.length; i += 1) {\n          this.globalMarkers[i].setMap(null);\n        }\n        this.globalMarkers = [];\n        success();\n      });\n    },\n    savePlace(place) {\n      // add to local place users\n      const placeId = place.place ? place.place.id : place.id;\n      const placeRef = db.ref('finds').orderByChild('place/id').equalTo(placeId);\n      const userObj = {\n        uid: this.user.uid,\n        displayName: this.user.displayName,\n        photoURL: this.user.photoURL,\n      };\n      placeRef.once('value').then(async (snap) => {\n        if (snap.val()) {\n          const placeObj = snap.val();\n          const placeKey = Object.keys(placeObj)[0];\n          db.ref(`finds/${placeKey}/users/${this.user.uid}`).set(userObj);\n          this.addToSaved(placeKey, place, userObj);\n          // move marker create to place savePlace is called?\n          const m = this.$utils.newMarker(\n            placeObj[placeKey],\n            place.users,\n            this.globalMap,\n            this.infoWindow,\n            this.globalMarkers,\n          );\n          this.createMarker(m);\n        } else {\n          const placeObj = buildPlaceObj(place, this.user);\n          db.ref('finds').push(placeObj).then((pushed) => {\n            this.addToSaved(pushed.key, placeObj, userObj);\n            const m = this.$utils.newMarker(\n              place,\n              placeObj.users,\n              this.globalMap,\n              this.infoWindow,\n              this.globalMarkers,\n            );\n            this.createMarker(m);\n          });\n        }\n      });\n    },\n    addToSaved(key, place, user) {\n      if (this.user.saved) {\n        this.$set(this.user.saved, key, true);\n      } else {\n        this.$set(this.user, 'saved', {});\n        this.$set(this.user.saved, key, true);\n      }\n      if (place.users) {\n        this.$set(place.users, this.user.uid, user);\n      } else {\n        this.$set(place, 'users', {});\n        this.$set(place.users, this.user.uid, user);\n      }\n      db.ref(`users/${this.user.uid}`).child(`saved/${key}`).set(true);\n    },\n    panToPlace(p) {\n      const google = this.google;\n      const latLng = new google.maps.LatLng(p.place.pos.lat, p.place.pos.lng);\n      const m = this.$utils.newMarker(\n        p,\n        p.users,\n        this.globalMap,\n        this.infoWindow,\n        this.globalMarkers,\n      );\n      this.createMarker(m);\n      this.globalMap.panTo(latLng);\n      this.infoWindow.el.open(this.globalMap, m);\n      this.infoWindow.content = p.place;\n    },\n    updateMap(map) {\n      this.globalMap = map;\n    },\n    updateMarkers(m) {\n      this.globalMarkers = m;\n    },\n    // panMap (google) {\n    //   const bounds = new google.maps.LatLngBounds();\n    //   for (var i = 0; i < this.globalMarkers.length; i++) {\n    //     bounds.extend(this.globalMarkers[i].getPosition());\n    //   }\n    //   this.globalMap.fitBounds(bounds);\n    // },\n  },\n  computed: {\n    radius() {\n      let radius;\n      const bounds = this.globalMap.getBounds();\n      const center = this.globalMap.getCenter();\n      if (bounds && center) {\n        const ne = bounds.getNorthEast();\n        radius = this.google.maps.geometry.spherical.computeDistanceBetween(center, ne);\n      }\n      return Math.floor(radius);\n    },\n  },\n  components: {\n    LocationSearch,\n    FindPlaces,\n    Map,\n    MyFinds,\n    HotList,\n    InfoWindow,\n    User,\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Initial.vue","<template>\n  <div class=\"o-app\" id=\"app\">\n    <router-view :google=\"google\"/>\n  </div>\n</template>\n\n<script>\ngm.KEY = GOOGLEMAPS_KEY; // eslint-disable-line no-undef\ngm.LIBRARIES = ['places', 'geometry']; // eslint-disable-line no-undef\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      google: null,\n    };\n  },\n  created() {\n    gm.load((google) => { // eslint-disable-line no-undef\n      this.google = google;\n    });\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue"],"sourceRoot":""}